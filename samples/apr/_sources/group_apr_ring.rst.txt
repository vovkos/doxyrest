.. index:: pair: group; Ring Macro Implementations
.. _doxid-group__apr__ring:

Ring Macro Implementations
==========================

.. toctree::
	:hidden:

Overview
~~~~~~~~

A ring is a kind of doubly-linked list that can be manipulated without knowing where its head is. :ref:`More...<details-group__apr__ring>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	
	// macros

	#define :ref:`APR_RING_CHECK<doxid-group__apr__ring_1ga97bb4dcc313145496e6b05855f9c6e2b>`( \
		hp, \
		elem, \
		link, \
		msg \
	)

	#define :ref:`APR_RING_CHECK_CONSISTENCY<doxid-group__apr__ring_1ga6b0f2091527ee9c7a1511cb6f172a0a7>`( \
		hp, \
		elem, \
		link \
	)

	#define :ref:`APR_RING_CHECK_ELEM<doxid-group__apr__ring_1ga5500df0e96dea1a3258f1e92b28fea0a>`( \
		ep, \
		elem, \
		link, \
		msg \
	)

	#define :ref:`APR_RING_CHECK_ELEM_CONSISTENCY<doxid-group__apr__ring_1gab7070ae5cf69bf16178a0e0e397c5b38>`( \
		ep, \
		elem, \
		link \
	)

	#define :ref:`APR_RING_CHECK_ONE<doxid-group__apr__ring_1ga33c7cfbea7c688c7bd0a3d36609f318b>`( \
		msg, \
		ptr \
	)

	#define :ref:`APR_RING_CONCAT<doxid-group__apr__ring_1ga34ee7a0d6daa61117006bb74498ff5aa>`( \
		h1, \
		h2, \
		elem, \
		link \
	)

	#define :ref:`APR_RING_ELEM_INIT<doxid-group__apr__ring_1gae5048ecda4b26b012ee93c2c830058cb>`( \
		ep, \
		link \
	)

	#define :ref:`APR_RING_EMPTY<doxid-group__apr__ring_1ga9b64ad6eebea19f896d2aa90172b6b9a>`( \
		hp, \
		elem, \
		link \
	)

	#define :ref:`APR_RING_ENTRY<doxid-group__apr__ring_1ga095edad4bcb6975014ed9584930f7819>`(elem)
	#define :ref:`APR_RING_FIRST<doxid-group__apr__ring_1gacacd9cfca24feb7ff754d4008422efcb>`(hp)

	#define :ref:`APR_RING_FOREACH<doxid-group__apr__ring_1ga7dc7b26e72f836d27e8e0c87da14fb4a>`( \
		ep, \
		head, \
		elem, \
		link \
	)

	#define :ref:`APR_RING_FOREACH_SAFE<doxid-group__apr__ring_1ga9a1e91eef86d676d1622dc5b9ddd6f89>`( \
		ep1, \
		ep2, \
		head, \
		elem, \
		link \
	)

	#define :ref:`APR_RING_HEAD<doxid-group__apr__ring_1ga2953b8d4034077c4020616282e6c0b67>`( \
		head, \
		elem \
	)

	#define :ref:`APR_RING_INIT<doxid-group__apr__ring_1ga245e1a73b162a4a68ebd54c84683729d>`( \
		hp, \
		elem, \
		link \
	)

	#define :ref:`APR_RING_INSERT_AFTER<doxid-group__apr__ring_1ga40453637d00c853f3a212a30c1f2cb41>`( \
		lep, \
		nep, \
		link \
	)

	#define :ref:`APR_RING_INSERT_BEFORE<doxid-group__apr__ring_1ga76f9a04f932b3377073fa4e30d745564>`( \
		lep, \
		nep, \
		link \
	)

	#define :ref:`APR_RING_INSERT_HEAD<doxid-group__apr__ring_1gad59352546dc9253c0057ad43cf728a63>`( \
		hp, \
		nep, \
		elem, \
		link \
	)

	#define :ref:`APR_RING_INSERT_TAIL<doxid-group__apr__ring_1ga235311035184125d72ce0689c9949a3e>`( \
		hp, \
		nep, \
		elem, \
		link \
	)

	#define :ref:`APR_RING_LAST<doxid-group__apr__ring_1ga8b927069ba9dc13defaf45a87267b5d3>`(hp)

	#define :ref:`APR_RING_NEXT<doxid-group__apr__ring_1gae42e4f7148719aa534bdbbc82be26a06>`( \
		ep, \
		link \
	)

	#define :ref:`APR_RING_PREPEND<doxid-group__apr__ring_1ga4d5aaa9b6f02f96f98f234a0a428474d>`( \
		h1, \
		h2, \
		elem, \
		link \
	)

	#define :ref:`APR_RING_PREV<doxid-group__apr__ring_1ga82d45623d505d59ea5619cf8f63d0ebb>`( \
		ep, \
		link \
	)

	#define :ref:`APR_RING_REMOVE<doxid-group__apr__ring_1gaab4a57544bdb660ec1e306137387d9d7>`( \
		ep, \
		link \
	)

	#define :ref:`APR_RING_SENTINEL<doxid-group__apr__ring_1ga54210090292ebafcd0a0d75d9ff1563d>`( \
		hp, \
		elem, \
		link \
	)

	#define :ref:`APR_RING_SPLICE_AFTER<doxid-group__apr__ring_1ga53e6564eba59d7e734a0ce03cb418a42>`( \
		lep, \
		ep1, \
		epN, \
		link \
	)

	#define :ref:`APR_RING_SPLICE_BEFORE<doxid-group__apr__ring_1ga438e7369e650ee07ac98ed0731589750>`( \
		lep, \
		ep1, \
		epN, \
		link \
	)

	#define :ref:`APR_RING_SPLICE_HEAD<doxid-group__apr__ring_1ga592e71a7cf219fc70f4fc47c60ef4c64>`( \
		hp, \
		ep1, \
		epN, \
		elem, \
		link \
	)

	#define :ref:`APR_RING_SPLICE_TAIL<doxid-group__apr__ring_1ga51e02e214fb6e218f45ff23cbd1f7abc>`( \
		hp, \
		ep1, \
		epN, \
		elem, \
		link \
	)

	#define :ref:`APR_RING_UNSPLICE<doxid-group__apr__ring_1ga1d725b0a9ea7ff88f771e37ec130c13b>`( \
		ep1, \
		epN, \
		link \
	)

.. _details-group__apr__ring:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

A ring is a kind of doubly-linked list that can be manipulated without knowing where its head is.

Macros
------

.. index:: pair: define; APR_RING_CHECK
.. _doxid-group__apr__ring_1ga97bb4dcc313145496e6b05855f9c6e2b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_CHECK( \
		hp, \
		elem, \
		link, \
		msg \
	)

Dump all ring pointers to STDERR, starting with the head and looping all the way around the ring back to the head. Aborts if an inconsistency is found. (This is a no-op unless APR_RING_DEBUG is defined.)



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- hp

		- Head of the ring

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

	*
		- msg

		- Descriptive message

.. index:: pair: define; APR_RING_CHECK_CONSISTENCY
.. _doxid-group__apr__ring_1ga6b0f2091527ee9c7a1511cb6f172a0a7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_CHECK_CONSISTENCY( \
		hp, \
		elem, \
		link \
	)

Loops around a ring and checks all the pointers for consistency. Pops an assertion if any inconsistency is found. Same idea as :ref:`APR_RING_CHECK() <doxid-group__apr__ring_1ga97bb4dcc313145496e6b05855f9c6e2b>` except that it's silent if all is well. (This is a no-op unless APR_RING_DEBUG is defined.)



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- hp

		- Head of the ring

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_CHECK_ELEM
.. _doxid-group__apr__ring_1ga5500df0e96dea1a3258f1e92b28fea0a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_CHECK_ELEM( \
		ep, \
		elem, \
		link, \
		msg \
	)

Dump all ring pointers to STDERR, starting with the given element and looping all the way around the ring back to that element. Aborts if an inconsistency is found. (This is a no-op unless APR_RING_DEBUG is defined.)



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- ep

		- The element

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

	*
		- msg

		- Descriptive message

.. index:: pair: define; APR_RING_CHECK_ELEM_CONSISTENCY
.. _doxid-group__apr__ring_1gab7070ae5cf69bf16178a0e0e397c5b38:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_CHECK_ELEM_CONSISTENCY( \
		ep, \
		elem, \
		link \
	)

Loops around a ring, starting with the given element, and checks all the pointers for consistency. Pops an assertion if any inconsistency is found. Same idea as :ref:`APR_RING_CHECK_ELEM() <doxid-group__apr__ring_1ga5500df0e96dea1a3258f1e92b28fea0a>` except that it's silent if all is well. (This is a no-op unless APR_RING_DEBUG is defined.)



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- ep

		- The element

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_CHECK_ONE
.. _doxid-group__apr__ring_1ga33c7cfbea7c688c7bd0a3d36609f318b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_CHECK_ONE( \
		msg, \
		ptr \
	)

Print a single pointer value to STDERR (This is a no-op unless APR_RING_DEBUG is defined.)



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- msg

		- Descriptive message

	*
		- ptr

		- Pointer value to print

.. index:: pair: define; APR_RING_CONCAT
.. _doxid-group__apr__ring_1ga34ee7a0d6daa61117006bb74498ff5aa:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_CONCAT( \
		h1, \
		h2, \
		elem, \
		link \
	)

Concatenate ring h2 onto the end of ring h1, leaving h2 empty.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- h1

		- Head of the ring to concatenate onto

	*
		- h2

		- Head of the ring to concatenate

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_ELEM_INIT
.. _doxid-group__apr__ring_1gae5048ecda4b26b012ee93c2c830058cb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_ELEM_INIT( \
		ep, \
		link \
	)

Initialize a singleton element



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- ep

		- The element

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_EMPTY
.. _doxid-group__apr__ring_1ga9b64ad6eebea19f896d2aa90172b6b9a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_EMPTY( \
		hp, \
		elem, \
		link \
	)

Determine if a ring is empty



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- hp

		- The head of the ring

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct



.. rubric:: Returns:

true or false

.. index:: pair: define; APR_RING_ENTRY
.. _doxid-group__apr__ring_1ga095edad4bcb6975014ed9584930f7819:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_ENTRY(elem)

The Ring Element

A ring element struct is linked to the other elements in the ring through its ring entry field, e.g.

.. code-block:: none


	struct my_element_t {
	    :ref:`APR_RING_ENTRY(my_element_t) <doxid-group__apr__ring_1ga095edad4bcb6975014ed9584930f7819>` link;
	    int foo;
	    char *bar;
	};

An element struct may be put on more than one ring if it has more than one APR_RING_ENTRY field. Each APR_RING_ENTRY has a corresponding APR_RING_HEAD declaration.

.. warning::

	For strict C standards compliance you should put the APR_RING_ENTRY first in the element struct unless the head is always part of a larger object with enough earlier fields to accommodate the offsetof() used to compute the ring sentinel below. You can usually ignore this caveat.

.. index:: pair: define; APR_RING_FIRST
.. _doxid-group__apr__ring_1gacacd9cfca24feb7ff754d4008422efcb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_FIRST(hp)

The first element of the ring



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- hp

		- The head of the ring

.. index:: pair: define; APR_RING_FOREACH
.. _doxid-group__apr__ring_1ga7dc7b26e72f836d27e8e0c87da14fb4a:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_FOREACH( \
		ep, \
		head, \
		elem, \
		link \
	)

Iterate over a ring



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- ep

		- The current element

	*
		- head

		- The head of the ring

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_FOREACH_SAFE
.. _doxid-group__apr__ring_1ga9a1e91eef86d676d1622dc5b9ddd6f89:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_FOREACH_SAFE( \
		ep1, \
		ep2, \
		head, \
		elem, \
		link \
	)

Iterate over a ring safe against removal of the current element



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- ep1

		- The current element

	*
		- ep2

		- Iteration cursor

	*
		- head

		- The head of the ring

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_HEAD
.. _doxid-group__apr__ring_1ga2953b8d4034077c4020616282e6c0b67:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_HEAD( \
		head, \
		elem \
	)

The Ring Head

Each ring is managed via its head, which is a struct declared like this:

.. code-block:: none


	:ref:`APR_RING_HEAD(my_ring_t, my_element_t) <doxid-group__apr__ring_1ga2953b8d4034077c4020616282e6c0b67>`;
	struct my_ring_t ring, *ringp;

This struct looks just like the element link struct so that we can be sure that the typecasting games will work as expected.

The first element in the ring is next after the head, and the last element is just before the head.

.. index:: pair: define; APR_RING_INIT
.. _doxid-group__apr__ring_1ga245e1a73b162a4a68ebd54c84683729d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_INIT( \
		hp, \
		elem, \
		link \
	)

Initialize a ring



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- hp

		- The head of the ring

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_INSERT_AFTER
.. _doxid-group__apr__ring_1ga40453637d00c853f3a212a30c1f2cb41:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_INSERT_AFTER( \
		lep, \
		nep, \
		link \
	)

Insert the element nep into the ring after element lep (..lep.. becomes ..lep..nep..)

.. warning::

	This doesn't work for inserting after the last element or on empty rings... see APR_RING_INSERT_TAIL for one that does



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- lep

		- Element in the ring to insert after

	*
		- nep

		- Element to insert

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_INSERT_BEFORE
.. _doxid-group__apr__ring_1ga76f9a04f932b3377073fa4e30d745564:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_INSERT_BEFORE( \
		lep, \
		nep, \
		link \
	)

Insert the element nep into the ring before element lep (..lep.. becomes ..nep..lep..)

.. warning::

	This doesn't work for inserting before the first element or on empty rings... see APR_RING_INSERT_HEAD for one that does



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- lep

		- Element in the ring to insert before

	*
		- nep

		- Element to insert

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_INSERT_HEAD
.. _doxid-group__apr__ring_1gad59352546dc9253c0057ad43cf728a63:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_INSERT_HEAD( \
		hp, \
		nep, \
		elem, \
		link \
	)

Insert the element nep into the ring before the first element (..hp.. becomes ..hp..nep..)



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- hp

		- Head of the ring

	*
		- nep

		- Element to insert

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_INSERT_TAIL
.. _doxid-group__apr__ring_1ga235311035184125d72ce0689c9949a3e:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_INSERT_TAIL( \
		hp, \
		nep, \
		elem, \
		link \
	)

Insert the element nep into the ring after the last element (..hp.. becomes ..nep..hp..)



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- hp

		- Head of the ring

	*
		- nep

		- Element to insert

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_LAST
.. _doxid-group__apr__ring_1ga8b927069ba9dc13defaf45a87267b5d3:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_LAST(hp)

The last element of the ring



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- hp

		- The head of the ring

.. index:: pair: define; APR_RING_NEXT
.. _doxid-group__apr__ring_1gae42e4f7148719aa534bdbbc82be26a06:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_NEXT( \
		ep, \
		link \
	)

The next element in the ring



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- ep

		- The current element

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_PREPEND
.. _doxid-group__apr__ring_1ga4d5aaa9b6f02f96f98f234a0a428474d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_PREPEND( \
		h1, \
		h2, \
		elem, \
		link \
	)

Prepend ring h2 onto the beginning of ring h1, leaving h2 empty.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- h1

		- Head of the ring to prepend onto

	*
		- h2

		- Head of the ring to prepend

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_PREV
.. _doxid-group__apr__ring_1ga82d45623d505d59ea5619cf8f63d0ebb:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_PREV( \
		ep, \
		link \
	)

The previous element in the ring



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- ep

		- The current element

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_REMOVE
.. _doxid-group__apr__ring_1gaab4a57544bdb660ec1e306137387d9d7:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_REMOVE( \
		ep, \
		link \
	)

Remove a single element from a ring

.. warning::

	The unspliced element is left with dangling pointers at either end



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- ep

		- Element to remove

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_SENTINEL
.. _doxid-group__apr__ring_1ga54210090292ebafcd0a0d75d9ff1563d:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_SENTINEL( \
		hp, \
		elem, \
		link \
	)

The Ring Sentinel

This is the magic pointer value that occurs before the first and after the last elements in the ring, computed from the address of the ring's head. The head itself isn't an element, but in order to get rid of all the special cases when dealing with the ends of the ring, we play typecasting games to make it look like one.

Here is a diagram to illustrate the arrangements of the next and prev pointers of each element in a single ring. Note that they point to the start of each element, not to the APR_RING_ENTRY structure.

.. code-block:: none

	
	    +->+------+<-+  +->+------+<-+  +->+------+<-+
	    |  |struct|  |  |  |struct|  |  |  |struct|  |
	   /   | elem |   \/   | elem |   \/   | elem |  \
	...    |      |   /\   |      |   /\   |      |   ...
	       +------+  |  |  +------+  |  |  +------+
	  ...--|prev  |  |  +--|ring  |  |  +--|prev  |
	       |  next|--+     | entry|--+     |  next|--...
	       +------+        +------+        +------+
	       | etc. |        | etc. |        | etc. |
	       :      :        :      :        :      :

The APR_RING_HEAD is nothing but a bare APR_RING_ENTRY. The prev and next pointers in the first and last elements don't actually point to the head, they point to a phantom place called the sentinel. Its value is such that last->next->next == first because the offset from the sentinel to the head's next pointer is the same as the offset from the start of an element to its next pointer. This also works in the opposite direction.

.. code-block:: none

	
	       last                            first
	    +->+------+<-+  +->sentinel<-+  +->+------+<-+
	    |  |struct|  |  |            |  |  |struct|  |
	   /   | elem |   \/              \/   | elem |  \
	...    |      |   /\              /\   |      |   ...
	       +------+  |  |  +------+  |  |  +------+
	  ...--|prev  |  |  +--|ring  |  |  +--|prev  |
	       |  next|--+     |  head|--+     |  next|--...
	       +------+        +------+        +------+
	       | etc. |                        | etc. |
	       :      :                        :      :

Note that the offset mentioned above is different for each kind of ring that the element may be on, and each kind of ring has a unique name for its APR_RING_ENTRY in each element, and has its own type for its APR_RING_HEAD.

Note also that if the offset is non-zero (which is required if an element has more than one APR_RING_ENTRY), the unreality of the sentinel may have bad implications on very perverse implementations of C see the warning in APR_RING_ENTRY.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- hp

		- The head of the ring

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_SPLICE_AFTER
.. _doxid-group__apr__ring_1ga53e6564eba59d7e734a0ce03cb418a42:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_SPLICE_AFTER( \
		lep, \
		ep1, \
		epN, \
		link \
	)

Splice the sequence ep1..epN into the ring after element lep (..lep.. becomes ..lep..ep1..epN..)

.. warning::

	This doesn't work for splicing after the last element or on empty rings... see APR_RING_SPLICE_TAIL for one that does



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- lep

		- Element in the ring to splice after

	*
		- ep1

		- First element in the sequence to splice in

	*
		- epN

		- Last element in the sequence to splice in

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_SPLICE_BEFORE
.. _doxid-group__apr__ring_1ga438e7369e650ee07ac98ed0731589750:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_SPLICE_BEFORE( \
		lep, \
		ep1, \
		epN, \
		link \
	)

Splice the sequence ep1..epN into the ring before element lep (..lep.. becomes ..ep1..epN..lep..)

.. warning::

	This doesn't work for splicing before the first element or on empty rings... see APR_RING_SPLICE_HEAD for one that does



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- lep

		- Element in the ring to splice before

	*
		- ep1

		- First element in the sequence to splice in

	*
		- epN

		- Last element in the sequence to splice in

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_SPLICE_HEAD
.. _doxid-group__apr__ring_1ga592e71a7cf219fc70f4fc47c60ef4c64:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_SPLICE_HEAD( \
		hp, \
		ep1, \
		epN, \
		elem, \
		link \
	)

Splice the sequence ep1..epN into the ring before the first element (..hp.. becomes ..hp..ep1..epN..)



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- hp

		- Head of the ring

	*
		- ep1

		- First element in the sequence to splice in

	*
		- epN

		- Last element in the sequence to splice in

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_SPLICE_TAIL
.. _doxid-group__apr__ring_1ga51e02e214fb6e218f45ff23cbd1f7abc:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_SPLICE_TAIL( \
		hp, \
		ep1, \
		epN, \
		elem, \
		link \
	)

Splice the sequence ep1..epN into the ring after the last element (..hp.. becomes ..ep1..epN..hp..)



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- hp

		- Head of the ring

	*
		- ep1

		- First element in the sequence to splice in

	*
		- epN

		- Last element in the sequence to splice in

	*
		- elem

		- The name of the element struct

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct

.. index:: pair: define; APR_RING_UNSPLICE
.. _doxid-group__apr__ring_1ga1d725b0a9ea7ff88f771e37ec130c13b:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	#define APR_RING_UNSPLICE( \
		ep1, \
		epN, \
		link \
	)

Unsplice a sequence of elements from a ring

.. warning::

	The unspliced sequence is left with dangling pointers at either end



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- ep1

		- First element in the sequence to unsplice

	*
		- epN

		- Last element in the sequence to unsplice

	*
		- link

		- The name of the APR_RING_ENTRY in the element struct


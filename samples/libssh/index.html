

<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>libssh &mdash; LibSSH Documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css?v=ff3f4257" />
      <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinx_rtd_theme.css?v=b6ca47bd" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=a674670e"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/target-highlight.js?v=df7d332b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="The Linking HowTo" href="page_libssh_linking.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            LibSSH Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="page_libssh_linking.html">The Linking HowTo</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_libssh_tutorial.html">The Tutorial</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="group_libssh.html">The libssh API</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_ssh_cpp.html">The libssh C++ wrapper</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_libssh_sftp.html">The libssh SFTP API</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_libssh_server.html">The libssh server API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="page_bug.html">Bug List</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_deprecated.html">Deprecated List</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="global.html">Global Namespace</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">LibSSH Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">libssh</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="libssh">
<span id="doxid-indexpage"></span><span id="index-0"></span><h1>libssh</h1>
<p>This is the online reference for developing with the libssh library. It documents the libssh C API and the C++ wrapper.</p>
<section id="linking">
<span id="doxid-index-1main-linking"></span><h2>Linking</h2>
<p>We created a small howto how to link libssh against your application, read <a class="reference internal" href="page_libssh_linking.html#doxid-libssh-linking"><span class="std std-ref">The Linking HowTo</span></a>.</p>
</section>
<section id="tutorial">
<span id="doxid-index-1main-tutorial"></span><h2>Tutorial</h2>
<p>You should start by reading <a class="reference internal" href="page_libssh_tutorial.html#doxid-libssh-tutorial"><span class="std std-ref">The Tutorial</span></a>, then reading the documentation of the interesting functions as you go.</p>
</section>
<section id="features">
<span id="doxid-index-1main-features"></span><h2>Features</h2>
<p>The libssh library provides:</p>
<ul class="simple">
<li><p><strong>Key Exchange Methods</strong> : <a class="reference external" href="mailto:curve25519-sha256&#37;&#52;&#48;libssh&#46;org">curve25519-sha256<span>&#64;</span>libssh<span>&#46;</span>org</a>, ecdh-sha2-nistp256, diffie-hellman-group1-sha1, diffie-hellman-group14-sha1</p></li>
<li><p><strong>Hostkey Types</strong> : <em>ecdsa-sha2-nistp256</em>, ssh-dss, ssh-rsa</p></li>
<li><p><strong>Ciphers</strong> : <em>aes256-ctr, aes192-ctr, aes128-ctr</em>, aes256-cbc (<a class="reference external" href="mailto:rijndael-cbc&#37;&#52;&#48;lysator&#46;liu&#46;se">rijndael-cbc<span>&#64;</span>lysator<span>&#46;</span>liu<span>&#46;</span>se</a>), aes192-cbc, aes128-cbc, 3des-cbc, des-cbc-ssh1, blowfish-cbc, none</p></li>
<li><p><strong>Compression Schemes</strong> : zlib, <a class="reference external" href="mailto:zlib&#37;&#52;&#48;openssh&#46;com">zlib<span>&#64;</span>openssh<span>&#46;</span>com</a>, none</p></li>
<li><p><strong>MAC hashes</strong> : hmac-sha1, none</p></li>
<li><p><strong>Authentication</strong> : none, password, public-key, hostbased, keyboard-interactive, <em>gssapi-with-mic</em></p></li>
<li><p><strong>Channels</strong> : shell, exec (incl. SCP wrapper), direct-tcpip, subsystem, <a class="reference external" href="mailto:auth-agent-req&#37;&#52;&#48;openssh&#46;com">auth-agent-req<span>&#64;</span>openssh<span>&#46;</span>com</a></p></li>
<li><p><strong>Global Requests</strong> : tcpip-forward, forwarded-tcpip</p></li>
<li><p><strong>Channel Requests</strong> : x11, pty, exit-status, signal, exit-signal, <a class="reference external" href="mailto:keepalive&#37;&#52;&#48;openssh&#46;com">keepalive<span>&#64;</span>openssh<span>&#46;</span>com</a>, <a class="reference external" href="mailto:auth-agent-req&#37;&#52;&#48;openssh&#46;com">auth-agent-req<span>&#64;</span>openssh<span>&#46;</span>com</a></p></li>
<li><p><strong>Subsystems</strong> : sftp(version 3), publickey(version 2), <em>OpenSSH Extensions</em></p></li>
<li><p><strong>SFTP</strong> : <a class="reference external" href="mailto:statvfs&#37;&#52;&#48;openssh&#46;com">statvfs<span>&#64;</span>openssh<span>&#46;</span>com</a>, <a class="reference external" href="mailto:fstatvfs&#37;&#52;&#48;openssh&#46;com">fstatvfs<span>&#64;</span>openssh<span>&#46;</span>com</a></p></li>
<li><p><strong>Thread-safe</strong> : Just don’t share sessions</p></li>
<li><p><strong>Non-blocking</strong> : it can be used both blocking and non-blocking</p></li>
<li><p><strong>Your sockets</strong> : the app hands over the socket, or uses libssh sockets</p></li>
<li><p><strong>OpenSSL</strong> or <strong>gcrypt</strong> : builds with either</p></li>
</ul>
</section>
<section id="additional-features">
<span id="doxid-index-1main-additional-features"></span><h2>Additional Features</h2>
<ul class="simple">
<li><p>Client <strong>and</strong> server support</p></li>
<li><p>SSHv2 and SSHv1 protocol support</p></li>
<li><p>Supports <a class="reference external" href="http://test.libssh.org/">Linux, UNIX, BSD, Solaris, OS/2 and Windows</a></p></li>
<li><p>Automated test cases with nightly <a class="reference external" href="http://test.libssh.org/">tests</a></p></li>
<li><p>Event model based on poll(2), or a poll(2)-emulation.</p></li>
</ul>
</section>
<section id="copyright-policy">
<span id="doxid-index-1main-copyright"></span><h2>Copyright Policy</h2>
<p>libssh is a project with distributed copyright ownership, which means we prefer the copyright on parts of libssh to be held by individuals rather than corporations if possible. There are historical legal reasons for this, but one of the best ways to explain it is that it’s much easier to work with individuals who have ownership than corporate legal departments if we ever need to make reasonable compromises with people using and working with libssh.</p>
<p>We track the ownership of every part of libssh via git, our source code control system, so we know the provenance of every piece of code that is committed to libssh.</p>
<p>So if possible, if you’re doing libssh changes on behalf of a company who normally owns all the work you do please get them to assign personal copyright ownership of your changes to you as an individual, that makes things very easy for us to work with and avoids bringing corporate legal departments into the picture.</p>
<p>If you can’t do this we can still accept patches from you owned by your employer under a standard employment contract with corporate copyright ownership. It just requires a simple set-up process first.</p>
<p>We use a process very similar to the way things are done in the Linux Kernel community, so it should be very easy to get a sign off from your corporate legal department. The only changes we’ve made are to accommodate the license we use, which is LGPLv2 (or later) whereas the Linux kernel uses GPLv2.</p>
<p>The process is called signing.</p>
</section>
<section id="how-to-sign-your-work">
<h2>How to sign your work</h2>
<p>Once you have permission to contribute to libssh from your employer, simply email a copy of the following text from your corporate email address to:</p>
<p><a class="reference external" href="mailto:contributing&#37;&#52;&#48;libssh&#46;org">contributing<span>&#64;</span>libssh<span>&#46;</span>org</a></p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>libssh Developer&#39;s Certificate of Origin. Version 1.0

By making a contribution to this project, I certify that:

(a) The contribution was created in whole or in part by me and I
    have the right to submit it under the appropriate
    version of the GNU General Public License; or

(b) The contribution is based upon previous work that, to the best of
    my knowledge, is covered under an appropriate open source license
    and I have the right under that license to submit that work with
    modifications, whether created in whole or in part by me, under
    the GNU General Public License, in the appropriate version; or

(c) The contribution was provided directly to me by some other
    person who certified (a) or (b) and I have not modified it.

(d) I understand and agree that this project and the contribution are
    public and that a record of the contribution (including all
    metadata and personal information I submit with it, including my
    sign-off) is maintained indefinitely and may be redistributed
    consistent with the libssh Team&#39;s policies and the requirements of
    the GNU GPL where they are relevant.

(e) I am granting this work to this project under the terms of the
    GNU Lesser General Public License as published by the
    Free Software Foundation; either version 2.1 of
    the License, or (at the option of the project) any later version.

http://www.gnu.org/licenses/lgpl-2.1.html
</pre></div>
</div>
<p>We will maintain a copy of that email as a record that you have the rights to contribute code to libssh under the required licenses whilst working for the company where the email came from.</p>
<p>Then when sending in a patch via the normal mechanisms described above, add a line that states:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Signed-off-by: Random J Developer &lt;random@developer.example.org&gt;
</pre></div>
</div>
<p>using your real name and the email address you sent the original email you used to send the libssh Developer’s Certificate of Origin to us (sorry, no pseudonyms or anonymous contributions.)</p>
<p>That’s it! Such code can then quite happily contain changes that have copyright messages such as:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(c) Example Corporation.
</pre></div>
</div>
<p>and can be merged into the libssh codebase in the same way as patches from any other individual. You don’t need to send in a copy of the libssh Developer’s Certificate of Origin for each patch, or inside each patch. Just the sign-off message is all that is required once we’ve received the initial email.</p>
<p>Have fun and happy libssh hacking!</p>
<p>The libssh Team</p>
</section>
<section id="internet-standard">
<span id="doxid-index-1main-rfc"></span><h2>Internet standard</h2>
<section id="secure-shell-ssh">
<span id="doxid-index-1main-rfc-secsh"></span><h3>Secure Shell (SSH)</h3>
<p>The following RFC documents described SSH-2 protcol as an Internet standard.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4250">RFC 4250</a>, The Secure Shell (SSH) Protocol Assigned Numbers</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4251">RFC 4251</a>, The Secure Shell (SSH) Protocol Architecture</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4252">RFC 4252</a>, The Secure Shell (SSH) Authentication Protocol</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4253">RFC 4253</a>, The Secure Shell (SSH) Transport Layer Protocol</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4254">RFC 4254</a>, The Secure Shell (SSH) Connection Protocol</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4255">RFC 4255</a>, Using DNS to Securely Publish Secure Shell (SSH) Key Fingerprints</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4256">RFC 4256</a>, Generic Message Exchange Authentication for the Secure Shell Protocol (SSH)</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4335">RFC 4335</a>, The Secure Shell (SSH) Session Channel Break Extension</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4344">RFC 4344</a>, The Secure Shell (SSH) Transport Layer Encryption Modes</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4345">RFC 4345</a>, Improved Arcfour Modes for the Secure Shell (SSH) Transport Layer Protocol</p></li>
</ul>
<p>It was later modified and expanded by the following RFCs.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4419">RFC 4419</a>, Diffie-Hellman Group Exchange for the Secure Shell (SSH) Transport Layer Protocol</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4432">RFC 4432</a>, RSA Key Exchange for the Secure Shell (SSH) Transport Layer Protocol</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4462">RFC 4462</a>, Generic Security Service Application Program Interface (GSS-API) Authentication and Key Exchange for the Secure Shell (SSH) Protocol</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc4716">RFC 4716</a>, The Secure Shell (SSH) Public Key File Format</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc5647">RFC 5647</a>, AES Galois Counter Mode for the Secure Shell Transport Layer Protocol</p></li>
<li><p><a class="reference external" href="http://tools.ietf.org/html/rfc5656">RFC 5656</a>, Elliptic Curve Algorithm Integration in the Secure Shell Transport Layer</p></li>
</ul>
<p>Interesting cryptography documents:</p>
<ul class="simple">
<li><p><a class="reference external" href="http://www.cryptsoft.com/pkcs11doc/">PKCS #11</a>, PKCS #11 reference documents, describing interface with smartcards.</p></li>
</ul>
</section>
<section id="secure-shell-file-transfer-protocol-sftp">
<span id="doxid-index-1main-rfc-sftp"></span><h3>Secure Shell File Transfer Protocol (SFTP)</h3>
<p>The protocol is not an Internet standard but it is still widely implemented. OpenSSH and most other implementation implement Version 3 of the protocol. We do the same in libssh.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://tools.ietf.org/html/draft-ietf-secsh-filexfer-02">draft-ietf-secsh-filexfer-02.txt</a>, SSH File Transfer Protocol</p></li>
</ul>
</section>
<section id="secure-shell-extensions">
<span id="doxid-index-1main-rfc-extensions"></span><h3>Secure Shell Extensions</h3>
<p>The libssh project has an extension to support Curve25519 which is also supported by the OpenSSH project.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://git.libssh.org/projects/libssh.git/tree/doc/curve25519-sha256&#64;libssh.org.txt">curve25519-sha256&#64;libssh.org</a>, Curve25519-SHA256 for ECDH KEX</p></li>
</ul>
<p>The OpenSSH project has defined some extensions to the protocol. We support some of them like the statvfs calls in SFTP or the ssh-agent.</p>
<ul class="simple">
<li><p><a class="reference external" href="http://api.libssh.org/rfc/PROTOCOL">OpenSSH’s deviations and extensions</a></p></li>
<li><p><a class="reference external" href="http://api.libssh.org/rfc/PROTOCOL.agent">OpenSSH’s ssh-agent</a></p></li>
<li><p><a class="reference external" href="http://api.libssh.org/rfc/PROTOCOL.certkeys">OpenSSH’s pubkey certificate authentication</a></p></li>
</ul>
<div class="toctree-wrapper compound">
</div>
<p class="rubric">Related Pages:</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="page_libssh_linking.html"><span class="doc">The Linking HowTo</span></a></div>
<div class="line"><a class="reference internal" href="page_libssh_tutorial.html"><span class="doc">The Tutorial</span></a></div>
<div class="line-block">
<div class="line"><a class="reference internal" href="page_libssh_tutor_guided_tour.html"><span class="doc">Chapter 1: A typical SSH session</span></a></div>
<div class="line"><a class="reference internal" href="page_libssh_tutor_authentication.html"><span class="doc">Chapter 2: A deeper insight on authentication</span></a></div>
<div class="line"><a class="reference internal" href="page_libssh_tutor_shell.html"><span class="doc">Chapter 3: Opening a remote shell</span></a></div>
<div class="line"><a class="reference internal" href="page_libssh_tutor_command.html"><span class="doc">Chapter 4: Passing a remote command</span></a></div>
<div class="line"><a class="reference internal" href="page_libssh_tutor_sftp.html"><span class="doc">Chapter 5: The SFTP subsystem</span></a></div>
<div class="line"><a class="reference internal" href="page_libssh_tutor_scp.html"><span class="doc">Chapter 6: The SCP subsystem</span></a></div>
<div class="line"><a class="reference internal" href="page_libssh_tutor_forwarding.html"><span class="doc">Chapter 7: Forwarding connections (tunnel)</span></a></div>
<div class="line"><a class="reference internal" href="page_libssh_tutor_threads.html"><span class="doc">Chapter 8: Threads with libssh</span></a></div>
<div class="line"><a class="reference internal" href="page_libssh_tutor_todo.html"><span class="doc">To be done</span></a></div>
</div>
</div>
<div class="toctree-wrapper compound">
</div>
<p class="rubric">Further Reading:</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="group_libssh.html#doxid-group-libssh"><span class="std std-ref">The libssh API</span></a></div>
<div class="line-block">
<div class="line"><a class="reference internal" href="group_libssh_pki.html#doxid-group-libssh-pki"><span class="std std-ref">The SSH Public Key Infrastructure</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_auth.html#doxid-group-libssh-auth"><span class="std std-ref">The SSH authentication functions.</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_buffer.html#doxid-group-libssh-buffer"><span class="std std-ref">The SSH buffer functions.</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_channel.html#doxid-group-libssh-channel"><span class="std std-ref">The SSH channel functions</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_error.html#doxid-group-libssh-error"><span class="std std-ref">The SSH error functions.</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_misc.html#doxid-group-libssh-misc"><span class="std std-ref">The SSH helper functions.</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_log.html#doxid-group-libssh-log"><span class="std std-ref">The SSH logging functions.</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_messages.html#doxid-group-libssh-messages"><span class="std std-ref">The SSH message functions</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_poll.html#doxid-group-libssh-poll"><span class="std std-ref">The SSH poll functions.</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_scp.html#doxid-group-libssh-scp"><span class="std std-ref">The SSH scp functions</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_session.html#doxid-group-libssh-session"><span class="std std-ref">The SSH session functions.</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_string.html#doxid-group-libssh-string"><span class="std std-ref">The SSH string functions</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_threads.html#doxid-group-libssh-threads"><span class="std std-ref">The SSH threading functions.</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_callbacks.html#doxid-group-libssh-callbacks"><span class="std std-ref">The libssh callbacks</span></a></div>
</div>
<div class="line"><a class="reference internal" href="group_ssh_cpp.html#doxid-group-ssh-cpp"><span class="std std-ref">The libssh C++ wrapper</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_sftp.html#doxid-group-libssh-sftp"><span class="std std-ref">The libssh SFTP API</span></a></div>
<div class="line"><a class="reference internal" href="group_libssh_server.html#doxid-group-libssh-server"><span class="std std-ref">The libssh server API</span></a></div>
</div>
<div class="toctree-wrapper compound">
</div>
<p class="rubric">Related Pages:</p>
<div class="line-block">
<div class="line"><a class="reference internal" href="page_bug.html"><span class="doc">Bug List</span></a></div>
<div class="line"><a class="reference internal" href="page_deprecated.html"><span class="doc">Deprecated List</span></a></div>
</div>
<p class="rubric">Reference and Index:</p>
<div class="toctree-wrapper compound">
</div>
<div class="line-block">
<div class="line"><a class="reference internal" href="global.html"><span class="doc">Global Namespace</span></a></div>
<div class="line"><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="page_libssh_linking.html" class="btn btn-neutral float-right" title="The Linking HowTo" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2003-2017, LibSSH Maintainers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>


<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Process Locking Routines &mdash; Apache Portable Runtime Documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=e59714d7" />
      <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css?v=ff3f4257" />
      <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinx_rtd_theme.css?v=b6ca47bd" />

  
      <script src="_static/jquery.js?v=5d32c60e"></script>
      <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
      <script src="_static/documentation_options.js?v=73275c37"></script>
      <script src="_static/doctools.js?v=9bcbadda"></script>
      <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
      <script src="_static/target-highlight.js?v=df7d332b"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="enum apr_lockmech_e" href="enum_apr_lockmech_e.html" />
    <link rel="prev" title="struct apr_os_sock_info_t" href="struct_apr_os_sock_info_t.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="index.html" class="icon icon-home">
            Apache Portable Runtime Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="group_APR.html">Apache Portability Runtime library</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="group_apr_atomic.html">Atomic Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_getopt.html">Command Argument Parsing</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_thread_cond.html">Condition Variable Routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_dso.html">Dynamic Object Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_errno.html">Error Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_APR_Util_Escaping.html">Escape functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_file_io.html">File I/O Handling Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_file_info.html">File Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_fnmatch.html">Filename Matching Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_env.html">Functions for manipulating the environment</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_lib.html">General Purpose Library Routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_APR_GlobalMutex.html">Global Locking Routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_hash.html">Hash Tables</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_support.html">Internal APR support functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_allocator.html">Internal Memory Allocation</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_mmap.html">MMAP (Memory Map) Routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_pools.html">Memory Pool Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_general.html">Miscellaneous library routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_network_io.html">Network Routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_platform.html">Platform Definitions</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_poll.html">Poll Routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_portabile.html">Portability Routines</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Process Locking Routines</a><ul>
<li class="toctree-l3"><a class="reference internal" href="enum_apr_lockmech_e.html">enum apr_lockmech_e</a></li>
<li class="toctree-l3"><a class="reference internal" href="#overview">Overview</a></li>
<li class="toctree-l3"><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#typedefs">Typedefs</a></li>
<li class="toctree-l4"><a class="reference internal" href="#global-functions">Global Functions</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_random.html">Random Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_thread_rwlock.html">Reader/Writer Lock Routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_ring.html">Ring Macro Implementations</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_shm.html">Shared Memory Routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_signal.html">Signal Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_skiplist.html">Skip list implementation</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_strings.html">String routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_tables.html">Table and Array Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_thread_mutex.html">Thread Mutex Routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_thread_proc.html">Threads and Process Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_time.html">Time Routines</a></li>
<li class="toctree-l2"><a class="reference internal" href="group_apr_user.html">User and Group ID Services</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="group_apr_library.html">Library initialization and termination</a></li>
<li class="toctree-l1"><a class="reference internal" href="group_apr_ctype.html">ctype functions</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="page_bug.html">Bug List</a></li>
<li class="toctree-l1"><a class="reference internal" href="page_deprecated.html">Deprecated List</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="global.html">Global Namespace</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">Apache Portable Runtime Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="group_APR.html">Apache Portability Runtime library</a></li>
      <li class="breadcrumb-item active">Process Locking Routines</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="process-locking-routines">
<span id="doxid-group-apr-proc-mutex"></span><span id="index-0"></span><h1>Process Locking Routines</h1>
<div class="toctree-wrapper compound">
</div>
<section id="overview">
<h2>Overview</h2>
<pre class="highlight doxyrest-overview-code-block literal-block"><span></span><span class="c1">// typedefs</span>

<span class="k">typedef</span> <span class="k">struct</span> <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span> <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="p">;</span>

<span class="c1">// enums</span>

<span class="k">enum</span> <a class="reference internal" href="enum_apr_lockmech_e.html#doxid-group-apr-proc-mutex-1ga75dd95a48a1e855a87b509b522746ed4"><span class="std std-ref">apr_lockmech_e</span></a><span></span><span class="p">;</span>

<span class="c1">// global functions</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga57a0ad8cc6209dcbc8cf7c4bdf4a2c22"><span class="std std-ref">apr_proc_mutex_create</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">**</span> <span class="n">mutex</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">fname</span><span class="p">,</span>
    <a class="reference internal" href="enum_apr_lockmech_e.html#doxid-group-apr-proc-mutex-1ga75dd95a48a1e855a87b509b522746ed4"><span class="std std-ref">apr_lockmech_e</span></a><span></span> <span class="n">mech</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span> <span class="n">pool</span>
<span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga52c440b92eda07dc9c851a4e98f2ac83"><span class="std std-ref">apr_proc_mutex_child_init</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">**</span> <span class="n">mutex</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">fname</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span> <span class="n">pool</span>
<span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga9af7c9eabf4f99a5a33b41dc322af06f"><span class="std std-ref">apr_proc_mutex_lock</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga7c41927ce5014374eb4fc66d410f9513"><span class="std std-ref">apr_proc_mutex_trylock</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga4ecd9a73fbb0e6e6853e5d0769bbb183"><span class="std std-ref">apr_proc_mutex_unlock</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1gaa692ccd799305e0166fb81f258870830"><span class="std std-ref">apr_proc_mutex_destroy</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga71ec4d283f58e893322f44116e6f8ea2"><span class="std std-ref">apr_proc_mutex_cleanup</span></a><span></span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<span class="k">const</span> <span class="kt">char</span><span class="o">*</span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1gad4dcc5ec2a5a6ede7be178e13f56377a"><span class="std std-ref">apr_proc_mutex_lockfile</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<span class="k">const</span> <span class="kt">char</span><span class="o">*</span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga3e5cf6b6fd0736502efd91312d50881c"><span class="std std-ref">apr_proc_mutex_name</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">);</span>

<span class="k">const</span> <span class="kt">char</span><span class="o">*</span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1gaf4425adc130f83784c552b6bc1563036"><span class="std std-ref">apr_proc_mutex_defname</span></a><span></span><span class="p">(</span><span class="kt">void</span><span class="p">);</span>

<a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span>
<a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga9d7eda31ec4ad2183ddfcbff2f07daf9"><span class="std std-ref">apr_proc_mutex_pool_get</span></a><span></span><span class="p">(</span><span class="k">const</span> <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">theproc_mutex</span><span class="p">);</span></pre>
</section>
<section id="detailed-documentation">
<span id="details-group-apr-proc-mutex"></span><h2>Detailed Documentation</h2>
<section id="typedefs">
<h3>Typedefs</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span id="index-1"></span><span></span><span class="k">typedef</span> <span class="k">struct</span> <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span> <span class="n">apr_proc_mutex_t</span></pre>
<p>Opaque structure representing a process mutex.</p>
</section>
<section id="global-functions">
<h3>Global Functions</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga57a0ad8cc6209dcbc8cf7c4bdf4a2c22"><span id="index-2"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_create</span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">**</span> <span class="n">mutex</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">fname</span><span class="p">,</span>
    <a class="reference internal" href="enum_apr_lockmech_e.html#doxid-group-apr-proc-mutex-1ga75dd95a48a1e855a87b509b522746ed4"><span class="std std-ref">apr_lockmech_e</span></a><span></span> <span class="n">mech</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span> <span class="n">pool</span>
<span class="p">)</span></pre>
<p>Create and initialize a mutex that can be used to synchronize processes.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Check APR_HAS_foo_SERIALIZE defines to see if the platform supports APR_LOCK_foo. Only APR_LOCK_DEFAULT is portable.</p>
</div>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>mutex</p></td>
<td><p>the memory address where the newly created mutex will be stored.</p></td>
</tr>
<tr class="row-even"><td><p>fname</p></td>
<td><p>A file name to use if the lock mechanism requires one. This argument should always be provided. The lock code itself will determine if it should be used.</p></td>
</tr>
<tr class="row-odd"><td><p>mech</p></td>
<td><p>The mechanism to use for the interprocess lock, if any; one of</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>APR_LOCK_FCNTL
APR_LOCK_FLOCK
APR_LOCK_SYSVSEM
APR_LOCK_POSIXSEM
APR_LOCK_PROC_PTHREAD
APR_LOCK_DEFAULT     pick the default mechanism for the platform
</pre></div>
</div>
</td>
</tr>
<tr class="row-even"><td><p>pool</p></td>
<td><p>the pool from which to allocate the mutex.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">See also:</p>
<p><a class="reference internal" href="enum_apr_lockmech_e.html#doxid-group-apr-proc-mutex-1ga75dd95a48a1e855a87b509b522746ed4"><span class="std std-ref">apr_lockmech_e</span></a></p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga52c440b92eda07dc9c851a4e98f2ac83"><span id="index-3"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_child_init</span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">**</span> <span class="n">mutex</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span><span class="o">*</span> <span class="n">fname</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span> <span class="n">pool</span>
<span class="p">)</span></pre>
<p>Re-open a mutex in a child process. This function must be called to maintain portability, even if the underlying lock mechanism does not require it.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>mutex</p></td>
<td><p>The newly re-opened mutex structure.</p></td>
</tr>
<tr class="row-even"><td><p>fname</p></td>
<td><p>A file name to use if the mutex mechanism requires one. This argument should always be provided. The mutex code itself will determine if it should be used. This filename should be the same one that was passed to <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga57a0ad8cc6209dcbc8cf7c4bdf4a2c22"><span class="std std-ref">apr_proc_mutex_create()</span></a>.</p></td>
</tr>
<tr class="row-odd"><td><p>pool</p></td>
<td><p>The pool to operate on.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga9af7c9eabf4f99a5a33b41dc322af06f"><span id="index-4"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_lock</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span></pre>
<p>Acquire the lock for the given mutex. If the mutex is already locked, the current thread will be put to sleep until the lock becomes available.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>mutex</p></td>
<td><p>the mutex on which to acquire the lock.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga7c41927ce5014374eb4fc66d410f9513"><span id="index-5"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_trylock</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span></pre>
<p>Attempt to acquire the lock for the given mutex. If the mutex has already been acquired, the call returns immediately with APR_EBUSY. Note: it is important that the <a class="reference internal" href="group_APR_STATUS_IS.html#doxid-group-a-p-r-s-t-a-t-u-s-i-s-1gabb92ad7b6ef304132de70e9e5cbaa896"><span class="std std-ref">APR_STATUS_IS_EBUSY(s)</span></a> macro be used to determine if the return value was APR_EBUSY, for portability reasons.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>mutex</p></td>
<td><p>the mutex on which to attempt the lock acquiring.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga4ecd9a73fbb0e6e6853e5d0769bbb183"><span id="index-6"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_unlock</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span></pre>
<p>Release the lock for the given mutex.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>mutex</p></td>
<td><p>the mutex from which to release the lock.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1gaa692ccd799305e0166fb81f258870830"><span id="index-7"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_destroy</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span></pre>
<p>Destroy the mutex and free the memory associated with the lock.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>mutex</p></td>
<td><p>the mutex to destroy.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga71ec4d283f58e893322f44116e6f8ea2"><span id="index-8"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_proc_mutex_cleanup</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span></pre>
<p>Destroy the mutex and free the memory associated with the lock.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>This function is generally used to kill a cleanup on an already created mutex</p>
</div>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>mutex</p></td>
<td><p>the mutex to destroy.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1gad4dcc5ec2a5a6ede7be178e13f56377a"><span id="index-9"></span><span></span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span>
<span class="n">apr_proc_mutex_lockfile</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span></pre>
<p>Return the name of the lockfile for the mutex, or NULL if the mutex doesn’t use a lock file</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga3e5cf6b6fd0736502efd91312d50881c"><span id="index-10"></span><span></span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span>
<span class="n">apr_proc_mutex_name</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">)</span></pre>
<p>Display the name of the mutex, as it relates to the actual method used. This matches the valid options for Apache’s AcceptMutex directive</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>mutex</p></td>
<td><p>the name of the mutex</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1gaf4425adc130f83784c552b6bc1563036"><span id="index-11"></span><span></span><span class="k">const</span> <span class="kt">char</span><span class="o">*</span>
<span class="n">apr_proc_mutex_defname</span><span class="p">(</span><span class="kt">void</span><span class="p">)</span></pre>
<p>Display the name of the default mutex: APR_LOCK_DEFAULT</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-proc-mutex-1ga9d7eda31ec4ad2183ddfcbff2f07daf9"><span id="index-12"></span><a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span>
<span class="n">apr_proc_mutex_pool_get</span><span class="p">(</span><span class="k">const</span> <a class="reference internal" href="#doxid-group-apr-proc-mutex-1ga0fae3a1ab686cd1f252c6062e4c97bd2"><span class="std std-ref">apr_proc_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">theproc_mutex</span><span class="p">)</span></pre>
<p>Get the pool used by this proc_mutex.</p>
<p class="rubric">Returns:</p>
<p>apr_pool_t the pool</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="struct_apr_os_sock_info_t.html" class="btn btn-neutral float-left" title="struct apr_os_sock_info_t" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="enum_apr_lockmech_e.html" class="btn btn-neutral float-right" title="enum apr_lockmech_e" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2008-2017, Apache Portable Runtime Maintainers.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>
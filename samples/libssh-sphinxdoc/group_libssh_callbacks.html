<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>The libssh callbacks &#8212; LibSSH Documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxdoc.css?v=34905f61" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css?v=ff3f4257" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinxdoc.css?v=3785b6ce" />
    <script src="_static/documentation_options.js?v=a674670e"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/target-highlight.js?v=df7d332b"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="struct ssh_callbacks_struct" href="struct_ssh_callbacks_struct.html" />
    <link rel="prev" title="The SSH threading functions." href="group_libssh_threads.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="struct_ssh_callbacks_struct.html" title="struct ssh_callbacks_struct"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="group_libssh_threads.html" title="The SSH threading functions."
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">LibSSH Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="group_libssh.html" accesskey="U">The libssh API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">The libssh callbacks</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="the-libssh-callbacks">
<span id="doxid-group-libssh-callbacks"></span><span id="index-0"></span><h1>The libssh callbacks</h1>
<div class="toctree-wrapper compound">
</div>
<section id="overview">
<h2>Overview</h2>
<p>Callback which can be replaced in libssh. <a class="reference internal" href="#details-group-libssh-callbacks"><span class="std std-ref">More…</span></a></p>
<pre class="highlight doxyrest-overview-code-block literal-block"><span></span><span class="c1">// typedefs</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1gaadd49614879c70e0aaab096fd52cf2ab"><span class="std std-ref">ssh_auth_gssapi_mic_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">user</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">principal</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga8d98e68f8a2362bbcb5490211a4a62de"><span class="std std-ref">ssh_auth_none_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">user</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1gad32c421f392ad47275446378339f59c6"><span class="std std-ref">ssh_auth_password_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">user</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">password</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga68f74aa25d6a193c5fcf016d6d1bdc51"><span class="std std-ref">ssh_auth_pubkey_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">user</span><span class="p">,</span>
    <span class="k">struct</span> <span class="n">ssh_key_struct</span> <span class="o">*</span><span class="n">pubkey</span><span class="p">,</span>
    <span class="kt">char</span> <span class="n">signature_state</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1gaf06fe7d0b8cd8a5aab0a19ad7c6140b9"><span></span><span class="n">ssh_callback_data</span></span><span></span><span class="p">)(</span>
    <span class="k">const</span> <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span>
    <span class="kt">size_t</span> <span class="n">len</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">user</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1ga47b833f21a2b7145e421e63cad14b3d4"><span></span><span class="n">ssh_callback_int</span></span><span></span><span class="p">)(</span>
    <span class="kt">int</span> <span class="n">code</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">user</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1gaec19974b49541c787f7825e523849436"><span></span><span class="n">ssh_callback_int_int</span></span><span></span><span class="p">)(</span>
    <span class="kt">int</span> <span class="n">code</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">errno_code</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">user</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1gafbbd34a8b28db875055485e24d2149d0"><span class="std std-ref">ssh_channel_auth_agent_req_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1gaa1b8a1768e5bb4904c74e9a0ba0b6874"><span></span><span class="n">ssh_channel_callback_data</span></span><span></span><span class="p">)(</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">code</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span>
    <span class="kt">size_t</span> <span class="n">len</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">user</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1gabb4a1fe7cde149c5064f3b36d0a3a94f"><span></span><span class="n">ssh_channel_callback_int</span></span><span></span><span class="p">)(</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">code</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">user</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga58672dfbf52812e72946a3d6d8c74279"><span class="std std-ref">ssh_channel_close_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga4f34cc77aa9d47e506cbae679ddd54a5"><span class="std std-ref">ssh_channel_data_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">is_stderr</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1gae816543864b633ab89d20cdf39d69225"><span class="std std-ref">ssh_channel_env_request_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">env_name</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">env_value</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga54351aff7adba9f84621069aff982c27"><span class="std std-ref">ssh_channel_eof_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga41ccf4a20d30e7c5ccd87ac25f580f9d"><span class="std std-ref">ssh_channel_exec_request_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">command</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1gace982803d01abe445379b9c360a1a43d"><span class="std std-ref">ssh_channel_exit_signal_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">signal</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">core</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">errmsg</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">lang</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga6f834b43c812f871c7252bfbbb4ef6f4"><span class="std std-ref">ssh_channel_exit_status_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">exit_status</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="n">ssh_channel</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1gac63a4cc91d8c2a1465770ca5f6c0a436"><span class="std std-ref">ssh_channel_open_request_session_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="n">ssh_channel</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga6fc88f06d2eaa263d3336621edea0dcc"><span class="std std-ref">ssh_channel_open_request_x11_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">originator_address</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">originator_port</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga2c740320a613c207ee4032f8ee93fde8"><span class="std std-ref">ssh_channel_pty_request_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">term</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">width</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">height</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">pxwidth</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">pwheight</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga3614f21f6afbe6f498cdaa9b28c0f003"><span class="std std-ref">ssh_channel_pty_window_change_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">width</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">height</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">pxwidth</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">pwheight</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga4d93fd06cb58478c40c9d1d1627881d9"><span class="std std-ref">ssh_channel_shell_request_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga62cc19678bef2caa53808ef5776e08fa"><span class="std std-ref">ssh_channel_signal_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">signal</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1gafeee5298cbdb0ed0b607560322448bfd"><span class="std std-ref">ssh_channel_subsystem_request_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">subsystem</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga4a0df3bb8a201fc52925595356806852"><span class="std std-ref">ssh_channel_x11_req_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">single_connection</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">auth_protocol</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">auth_cookie</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">screen_number</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1gaeeb75ac372db669157bba96c22e6df85"><span class="std std-ref">ssh_global_request_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_message</span> <span class="n">message</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1gaacc4a1270f919717917e8960dabd1af3"><span></span><span class="n">ssh_gssapi_accept_sec_ctx_callback</span></span><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_string</span> <span class="n">input_token</span><span class="p">,</span>
    <span class="n">ssh_string</span> <span class="o">*</span><span class="n">output_token</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="n">ssh_string</span> <span class="p">(</span><span class="o">*</span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1gaf5fa4522517284e010b4e3624356e4a4"><span></span><span class="n">ssh_gssapi_select_oid_callback</span></span><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">user</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">n_oid</span><span class="p">,</span>
    <span class="n">ssh_string</span> <span class="o">*</span><span class="n">oids</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1ga043d34d7436d150a9b8cd5ceb70ec19e"><span></span><span class="n">ssh_gssapi_verify_mic_callback</span></span><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_string</span> <span class="n">mic</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">mic_buffer</span><span class="p">,</span>
    <span class="kt">size_t</span> <span class="n">mic_buffer_size</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga9057cbb0dc4ad1939cf6e03f36eaae9f"><span class="std std-ref">ssh_log_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">priority</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">message</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1gab6eedc77c07dde0c6baf9c29e7700a99"><span class="std std-ref">ssh_logging_callback</span></a><span></span><span class="p">)(</span>
    <span class="kt">int</span> <span class="n">priority</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">function</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">buffer</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1gaf6fd77dd8566d8bd0d87be9d4b7c4243"><span></span><span class="n">ssh_message_callback</span></span><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span><span class="p">,</span>
    <span class="n">ssh_message</span> <span class="n">message</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">user</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga6b8722467c98b73a7d78c0ec055e740d"><span class="std std-ref">ssh_packet_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="kt">uint8_t</span> <span class="n">type</span><span class="p">,</span>
    <span class="n">ssh_buffer</span> <span class="n">packet</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">user</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1gaa1866ffc041b50c341f9cba866a8055c"><span class="std std-ref">ssh_service_request_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">service</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><a class="reference internal" href="#doxid-group-libssh-callbacks-1gabd1e46f073ad992ae8642d8ebcde45a3"><span class="std std-ref">ssh_status_callback</span></a><span></span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">status</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">);</span>

<span class="c1">// structs</span>

<span class="k">struct</span> <a class="reference internal" href="struct_ssh_callbacks_struct.html#doxid-structssh-callbacks-struct"><span class="std std-ref">ssh_callbacks_struct</span></a><span></span><span class="p">;</span>
<span class="k">struct</span> <a class="reference internal" href="struct_ssh_channel_callbacks_struct.html#doxid-structssh-channel-callbacks-struct"><span class="std std-ref">ssh_channel_callbacks_struct</span></a><span></span><span class="p">;</span>
<span class="k">struct</span> <a class="reference internal" href="struct_ssh_packet_callbacks_struct.html#doxid-structssh-packet-callbacks-struct"><span class="std std-ref">ssh_packet_callbacks_struct</span></a><span></span><span class="p">;</span>
<span class="k">struct</span> <a class="reference internal" href="struct_ssh_server_callbacks_struct.html#doxid-structssh-server-callbacks-struct"><span class="std std-ref">ssh_server_callbacks_struct</span></a><span></span><span class="p">;</span>
<span class="k">struct</span> <a class="reference internal" href="struct_ssh_socket_callbacks_struct.html#doxid-structssh-socket-callbacks-struct"><span class="std std-ref">ssh_socket_callbacks_struct</span></a><span></span><span class="p">;</span>

<span class="c1">// global functions</span>

<a class="reference internal" href="global.html#doxid-libssh-8h-1a2ba7f29ac0f2b5ef7134243d24888ac5"><span class="std std-ref">LIBSSH_API</span></a><span></span> <span class="kt">int</span>
<a class="reference internal" href="#doxid-group-libssh-callbacks-1ga2e4b0507c738748a3f10e43fe201fe09"><span class="std std-ref">ssh_set_callbacks</span></a><span></span><span class="p">(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_callbacks</span> <span class="n">cb</span>
<span class="p">);</span>

<a class="reference internal" href="global.html#doxid-libssh-8h-1a2ba7f29ac0f2b5ef7134243d24888ac5"><span class="std std-ref">LIBSSH_API</span></a><span></span> <span class="kt">int</span>
<a class="reference internal" href="#doxid-group-libssh-callbacks-1gacea52d1373970a4922bf60e6b1680919"><span class="std std-ref">ssh_set_channel_callbacks</span></a><span></span><span class="p">(</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="n">ssh_channel_callbacks</span> <span class="n">cb</span>
<span class="p">);</span>

<a class="reference internal" href="global.html#doxid-libssh-8h-1a2ba7f29ac0f2b5ef7134243d24888ac5"><span class="std std-ref">LIBSSH_API</span></a><span></span> <span class="kt">int</span>
<a class="reference internal" href="#doxid-group-libssh-callbacks-1gaa321f33172cfa54eb50baaa963457a17"><span class="std std-ref">ssh_set_server_callbacks</span></a><span></span><span class="p">(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_server_callbacks</span> <span class="n">cb</span>
<span class="p">);</span>

<span class="c1">// macros</span>

<span class="cp">#define </span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga8fd26956f4e2b9bc57cfef26c50e321b"><span class="std std-ref">SSH_PACKET_CALLBACK</span></a><span></span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
<span class="cp">#define </span><a class="reference internal" href="#doxid-group-libssh-callbacks-1ga4766917128a12b646a8aee7ebc019f8c"><span class="std std-ref">SSH_PACKET_NOT_USED</span></a><span></span>
<span class="cp">#define </span><a class="reference internal" href="#doxid-group-libssh-callbacks-1gac29df803aa1295d6a498c1b081f3b494"><span class="std std-ref">SSH_PACKET_USED</span></a><span></span>
<span class="cp">#define </span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1ga3121a6449b4f59f96dd1196e8fd87b2b"><span></span><span class="n">SSH_SOCKET_CONNECTED_ERROR</span></span><span></span>
<span class="cp">#define </span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1ga777321b241841b09620e4c948520b753"><span></span><span class="n">SSH_SOCKET_CONNECTED_OK</span></span><span></span>
<span class="cp">#define </span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1ga17ef78f0410af7b1c4d52e4bfacffcfa"><span></span><span class="n">SSH_SOCKET_CONNECTED_TIMEOUT</span></span><span></span>
<span class="cp">#define </span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1gadc333c5dedfa61e2a0725428bd3aab89"><span></span><span class="n">SSH_SOCKET_EXCEPTION_EOF</span></span><span></span>
<span class="cp">#define </span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1ga37ab1ae01d34ff9b5a2b1b4ae334fd6f"><span></span><span class="n">SSH_SOCKET_EXCEPTION_ERROR</span></span><span></span>
<span class="cp">#define </span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1ga1f68a25a8da56bb1b930cec98d539f4d"><span></span><span class="n">SSH_SOCKET_FLOW_WRITEWILLBLOCK</span></span><span></span>
<span class="cp">#define </span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1gab50359ff09370deb71808b135af21961"><span></span><span class="n">SSH_SOCKET_FLOW_WRITEWONTBLOCK</span></span><span></span>

<span class="cp">#define </span><span class="doxyrest-code-target target" id="doxid-group-libssh-callbacks-1ga60a6fe85408a17ce8ef24c31a76d4a46"><span></span><span class="n">ssh_callbacks_exists</span></span><span></span><span class="p">(</span> \
    <span class="n">p</span><span class="p">,</span> \
    <span class="n">c</span> \
<span class="p">)</span>

<span class="cp">#define </span><a class="reference internal" href="#doxid-group-libssh-callbacks-1gafe09b81e5346f0babe288dc38113d289"><span class="std std-ref">ssh_callbacks_init</span></a><span></span><span class="p">(</span><span class="n">p</span><span class="p">)</span></pre>
</section>
<section id="detailed-documentation">
<span id="details-group-libssh-callbacks"></span><h2>Detailed Documentation</h2>
<p>Callback which can be replaced in libssh.</p>
<section id="typedefs">
<h3>Typedefs</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gaadd49614879c70e0aaab096fd52cf2ab"><span id="index-1"></span><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_auth_gssapi_mic_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">user</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">principal</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH authentication callback.</p>
<p>Tries to authenticates user with the “gssapi-with-mic” method</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>Implementations should verify that parameter user matches in some way the principal. user and principal can be different. Only the latter is guaranteed to be safe.</p>
</div>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>Current session handler</p></td>
</tr>
<tr class="row-even"><td><p>user</p></td>
<td><p>Username of the user (can be spoofed)</p></td>
</tr>
<tr class="row-odd"><td><p>principal</p></td>
<td><p>Authenticated principal of the user, including realm.</p></td>
</tr>
<tr class="row-even"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>SSH_AUTH_SUCCESS Authentication is accepted.</p>
<p>SSH_AUTH_PARTIAL Partial authentication, more authentication means are needed.</p>
<p>SSH_AUTH_DENIED Authentication failed.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga8d98e68f8a2362bbcb5490211a4a62de"><span id="index-2"></span><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_auth_none_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">user</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH authentication callback.</p>
<p>Tries to authenticates user with the “none” method which is anonymous or passwordless.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>Current session handler</p></td>
</tr>
<tr class="row-even"><td><p>user</p></td>
<td><p>User that wants to authenticate</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>SSH_AUTH_SUCCESS Authentication is accepted.</p>
<p>SSH_AUTH_PARTIAL Partial authentication, more authentication means are needed.</p>
<p>SSH_AUTH_DENIED Authentication failed.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gad32c421f392ad47275446378339f59c6"><span id="index-3"></span><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_auth_password_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">user</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">password</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>These are callbacks used specifically in SSH servers.</p>
<p>SSH authentication callback.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>Current session handler</p></td>
</tr>
<tr class="row-even"><td><p>user</p></td>
<td><p>User that wants to authenticate</p></td>
</tr>
<tr class="row-odd"><td><p>password</p></td>
<td><p>Password used for authentication</p></td>
</tr>
<tr class="row-even"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>SSH_AUTH_SUCCESS Authentication is accepted.</p>
<p>SSH_AUTH_PARTIAL Partial authentication, more authentication means are needed.</p>
<p>SSH_AUTH_DENIED Authentication failed.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga68f74aa25d6a193c5fcf016d6d1bdc51"><span id="index-4"></span><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_auth_pubkey_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">user</span><span class="p">,</span>
    <span class="k">struct</span> <span class="n">ssh_key_struct</span> <span class="o">*</span><span class="n">pubkey</span><span class="p">,</span>
    <span class="kt">char</span> <span class="n">signature_state</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH authentication callback.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>Current session handler</p></td>
</tr>
<tr class="row-even"><td><p>user</p></td>
<td><p>User that wants to authenticate</p></td>
</tr>
<tr class="row-odd"><td><p>pubkey</p></td>
<td><p>public key used for authentication</p></td>
</tr>
<tr class="row-even"><td><p>signature_state</p></td>
<td><p>SSH_PUBLICKEY_STATE_NONE if the key is not signed (simple public key probe), SSH_PUBLICKEY_STATE_VALID if the signature is valid. Others values should be replied with a SSH_AUTH_DENIED.</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>SSH_AUTH_SUCCESS Authentication is accepted.</p>
<p>SSH_AUTH_PARTIAL Partial authentication, more authentication means are needed.</p>
<p>SSH_AUTH_DENIED Authentication failed.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gafbbd34a8b28db875055485e24d2149d0"><span id="index-5"></span><span></span><span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_auth_agent_req_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH auth-agent-request from the client.</p>
<p>This request is sent by a client when agent forwarding is available. Server is free to ignore this callback, no answer is expected.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>channel</p></td>
<td><p>the channel</p></td>
</tr>
<tr class="row-even"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga58672dfbf52812e72946a3d6d8c74279"><span id="index-6"></span><span></span><span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_close_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH channel close callback.</p>
<p>Called when a channel is closed by remote peer</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>Current session handler</p></td>
</tr>
<tr class="row-even"><td><p>channel</p></td>
<td><p>the actual channel</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga4f34cc77aa9d47e506cbae679ddd54a5"><span id="index-7"></span><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_data_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">len</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">is_stderr</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH channel data callback.</p>
<p>Called when data is available on a channel</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>Current session handler</p></td>
</tr>
<tr class="row-even"><td><p>channel</p></td>
<td><p>the actual channel</p></td>
</tr>
<tr class="row-odd"><td><p>data</p></td>
<td><p>the data that has been read on the channel</p></td>
</tr>
<tr class="row-even"><td><p>len</p></td>
<td><p>the length of the data</p></td>
</tr>
<tr class="row-odd"><td><p>is_stderr</p></td>
<td><p>is 0 for stdout or 1 for stderr</p></td>
</tr>
<tr class="row-even"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>number of bytes processed by the callee. The remaining bytes will be sent in the next callback message, when more data is available.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gae816543864b633ab89d20cdf39d69225"><span id="index-8"></span><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_env_request_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">env_name</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">env_value</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH channel environment request from a client.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>some environment variables can be dangerous if changed (e.g. LD_PRELOAD) and should not be fulfilled.</p>
</div>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>channel</p></td>
<td><p>the channel</p></td>
</tr>
<tr class="row-even"><td><p>env_name</p></td>
<td><p>name of the environment value to be set</p></td>
</tr>
<tr class="row-odd"><td><p>env_value</p></td>
<td><p>value of the environment value to be set</p></td>
</tr>
<tr class="row-even"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>0 if the env request is accepted</p>
<p>1 if the request is denied</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga54351aff7adba9f84621069aff982c27"><span id="index-9"></span><span></span><span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_eof_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH channel eof callback.</p>
<p>Called when a channel receives EOF</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>Current session handler</p></td>
</tr>
<tr class="row-even"><td><p>channel</p></td>
<td><p>the actual channel</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga41ccf4a20d30e7c5ccd87ac25f580f9d"><span id="index-10"></span><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_exec_request_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">command</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH channel Exec request from a client.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>channel</p></td>
<td><p>the channel</p></td>
</tr>
<tr class="row-even"><td><p>command</p></td>
<td><p>the shell command to be executed</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>0 if the exec request is accepted</p>
<p>1 if the request is denied</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gace982803d01abe445379b9c360a1a43d"><span id="index-11"></span><span></span><span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_exit_signal_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">signal</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">core</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">errmsg</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">lang</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH channel exit signal callback.</p>
<p>Called when a channel has received an exit signal</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>Current session handler</p></td>
</tr>
<tr class="row-even"><td><p>channel</p></td>
<td><p>the actual channel</p></td>
</tr>
<tr class="row-odd"><td><p>signal</p></td>
<td><p>the signal name (without the SIG prefix)</p></td>
</tr>
<tr class="row-even"><td><p>core</p></td>
<td><p>a boolean telling wether a core has been dumped or not</p></td>
</tr>
<tr class="row-odd"><td><p>errmsg</p></td>
<td><p>the description of the exception</p></td>
</tr>
<tr class="row-even"><td><p>lang</p></td>
<td><p>the language of the description (format: RFC 3066)</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga6f834b43c812f871c7252bfbbb4ef6f4"><span id="index-12"></span><span></span><span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_exit_status_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">exit_status</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH channel exit status callback.</p>
<p>Called when a channel has received an exit status</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>Current session handler</p></td>
</tr>
<tr class="row-even"><td><p>channel</p></td>
<td><p>the actual channel</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gac63a4cc91d8c2a1465770ca5f6c0a436"><span id="index-13"></span><span></span><span class="k">typedef</span> <span class="n">ssh_channel</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_open_request_session_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>Handles an SSH new channel open session request.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The channel pointer returned by this callback must be closed by the application.</p>
</div>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>current session handler</p></td>
</tr>
<tr class="row-even"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>a valid ssh_channel handle if the request is to be allowed</p>
<p>NULL if the request should not be allowed</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga6fc88f06d2eaa263d3336621edea0dcc"><span id="index-14"></span><span></span><span class="k">typedef</span> <span class="n">ssh_channel</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_open_request_x11_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">originator_address</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">originator_port</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>Handles an SSH new channel open X11 request.</p>
<p>This happens when the server sends back an X11 connection attempt. This is a client-side API</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>The channel pointer returned by this callback must be closed by the application.</p>
</div>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>current session handler</p></td>
</tr>
<tr class="row-even"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>a valid ssh_channel handle if the request is to be allowed</p>
<p>NULL if the request should not be allowed</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga2c740320a613c207ee4032f8ee93fde8"><span id="index-15"></span><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_pty_request_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">term</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">width</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">height</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">pxwidth</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">pwheight</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH channel PTY request from a client.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>channel</p></td>
<td><p>the channel</p></td>
</tr>
<tr class="row-even"><td><p>term</p></td>
<td><p>The type of terminal emulation</p></td>
</tr>
<tr class="row-odd"><td><p>width</p></td>
<td><p>width of the terminal, in characters</p></td>
</tr>
<tr class="row-even"><td><p>height</p></td>
<td><p>height of the terminal, in characters</p></td>
</tr>
<tr class="row-odd"><td><p>pxwidth</p></td>
<td><p>width of the terminal, in pixels</p></td>
</tr>
<tr class="row-even"><td><p>pxheight</p></td>
<td><p>height of the terminal, in pixels</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>0 if the pty request is accepted</p>
<p>-1 if the request is denied</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga3614f21f6afbe6f498cdaa9b28c0f003"><span id="index-16"></span><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_pty_window_change_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">width</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">height</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">pxwidth</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">pwheight</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH channel PTY windows change (terminal size) from a client.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>channel</p></td>
<td><p>the channel</p></td>
</tr>
<tr class="row-even"><td><p>width</p></td>
<td><p>width of the terminal, in characters</p></td>
</tr>
<tr class="row-odd"><td><p>height</p></td>
<td><p>height of the terminal, in characters</p></td>
</tr>
<tr class="row-even"><td><p>pxwidth</p></td>
<td><p>width of the terminal, in pixels</p></td>
</tr>
<tr class="row-odd"><td><p>pxheight</p></td>
<td><p>height of the terminal, in pixels</p></td>
</tr>
<tr class="row-even"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>0 if the pty request is accepted</p>
<p>-1 if the request is denied</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga4d93fd06cb58478c40c9d1d1627881d9"><span id="index-17"></span><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_shell_request_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH channel Shell request from a client.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>channel</p></td>
<td><p>the channel</p></td>
</tr>
<tr class="row-even"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>0 if the shell request is accepted</p>
<p>1 if the request is denied</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga62cc19678bef2caa53808ef5776e08fa"><span id="index-18"></span><span></span><span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_signal_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">signal</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH channel signal callback.</p>
<p>Called when a channel has received a signal</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>Current session handler</p></td>
</tr>
<tr class="row-even"><td><p>channel</p></td>
<td><p>the actual channel</p></td>
</tr>
<tr class="row-odd"><td><p>signal</p></td>
<td><p>the signal name (without the SIG prefix)</p></td>
</tr>
<tr class="row-even"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gafeee5298cbdb0ed0b607560322448bfd"><span id="index-19"></span><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_subsystem_request_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">subsystem</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH channel subsystem request from a client.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>channel</p></td>
<td><p>the channel</p></td>
</tr>
<tr class="row-even"><td><p>subsystem</p></td>
<td><p>the subsystem required</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>0 if the subsystem request is accepted</p>
<p>1 if the request is denied</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga4a0df3bb8a201fc52925595356806852"><span id="index-20"></span><span></span><span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_channel_x11_req_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">single_connection</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">auth_protocol</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">auth_cookie</span><span class="p">,</span>
    <span class="kt">uint32_t</span> <span class="n">screen_number</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH X11 request from the client.</p>
<p>This request is sent by a client when X11 forwarding is requested(and available). Server is free to ignore this callback, no answer is expected.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>channel</p></td>
<td><p>the channel</p></td>
</tr>
<tr class="row-even"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gaeeb75ac372db669157bba96c22e6df85"><span id="index-21"></span><span></span><span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_global_request_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_message</span> <span class="n">message</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH global request callback.</p>
<p>All global request will go through this callback.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>Current session handler</p></td>
</tr>
<tr class="row-even"><td><p>message</p></td>
<td><p>the actual message</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga9057cbb0dc4ad1939cf6e03f36eaae9f"><span id="index-22"></span><span></span><span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_log_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="kt">int</span> <span class="n">priority</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">message</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH log callback.</p>
<p>All logging messages will go through this callback</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>Current session handler</p></td>
</tr>
<tr class="row-even"><td><p>priority</p></td>
<td><p>Priority of the log, the smaller being the more important</p></td>
</tr>
<tr class="row-odd"><td><p>message</p></td>
<td><p>the actual message</p></td>
</tr>
<tr class="row-even"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gab6eedc77c07dde0c6baf9c29e7700a99"><span id="index-23"></span><span></span><span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_logging_callback</span><span class="p">)(</span>
    <span class="kt">int</span> <span class="n">priority</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">function</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">buffer</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH log callback.</p>
<p>All logging messages will go through this callback.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>priority</p></td>
<td><p>Priority of the log, the smaller being the more important.</p></td>
</tr>
<tr class="row-even"><td><p>function</p></td>
<td><p>The function name calling the the logging fucntions.</p></td>
</tr>
<tr class="row-odd"><td><p>message</p></td>
<td><p>The actual message</p></td>
</tr>
<tr class="row-even"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga6b8722467c98b73a7d78c0ec055e740d"><span id="index-24"></span><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_packet_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="kt">uint8_t</span> <span class="n">type</span><span class="p">,</span>
    <span class="n">ssh_buffer</span> <span class="n">packet</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">user</span>
    <span class="p">)</span></pre>
<p>Prototype for a packet callback, to be called when a new packet arrives.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>The current session of the packet</p></td>
</tr>
<tr class="row-even"><td><p>type</p></td>
<td><p>packet type (see <code class="docutils literal notranslate"><span class="pre">ssh2.h</span></code>)</p></td>
</tr>
<tr class="row-odd"><td><p>packet</p></td>
<td><p>buffer containing the packet, excluding size, type and padding fields</p></td>
</tr>
<tr class="row-even"><td><p>user</p></td>
<td><p>user argument to the callback and are called each time a packet shows up</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>SSH_PACKET_USED Packet was parsed and used</p>
<p>SSH_PACKET_NOT_USED Packet was not used or understood, processing must continue</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gaa1866ffc041b50c341f9cba866a8055c"><span id="index-25"></span><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_service_request_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="k">const</span> <span class="kt">char</span> <span class="o">*</span><span class="n">service</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>Handles an SSH service request.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>current session handler</p></td>
</tr>
<tr class="row-even"><td><p>service</p></td>
<td><p>name of the service (e.g. “ssh-userauth”) requested</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>0 if the request is to be allowed</p>
<p>-1 if the request should not be allowed</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gabd1e46f073ad992ae8642d8ebcde45a3"><span id="index-26"></span><span></span><span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">ssh_status_callback</span><span class="p">)(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="kt">float</span> <span class="n">status</span><span class="p">,</span>
    <span class="kt">void</span> <span class="o">*</span><span class="n">userdata</span>
    <span class="p">)</span></pre>
<p>SSH Connection status callback.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>Current session handler</p></td>
</tr>
<tr class="row-even"><td><p>status</p></td>
<td><p>Percentage of connection status, going from 0.0 to 1.0 once connection is done.</p></td>
</tr>
<tr class="row-odd"><td><p>userdata</p></td>
<td><p>Userdata to be passed to the callback function.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="global-functions">
<h3>Global Functions</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga2e4b0507c738748a3f10e43fe201fe09"><span id="index-27"></span><a class="reference internal" href="global.html#doxid-libssh-8h-1a2ba7f29ac0f2b5ef7134243d24888ac5"><span class="std std-ref">LIBSSH_API</span></a><span></span> <span class="kt">int</span>
<span class="n">ssh_set_callbacks</span><span class="p">(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_callbacks</span> <span class="n">cb</span>
<span class="p">)</span></pre>
<p>Set the session callback functions.</p>
<p>This functions sets the callback structure to use your own callback functions for auth, logging and status.</p>
<pre class="highlight literal-block"><span></span><span class="k">struct</span> <span class="n">ssh_callbacks_struct</span> <span class="n">cb</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">.</span><span class="n">userdata</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span>
  <span class="p">.</span><span class="n">auth_function</span> <span class="o">=</span> <span class="n">my_auth_function</span>
<span class="p">};</span>
<span class="n">ssh_callbacks_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cb</span><span class="p">);</span>
<span class="n">ssh_set_callbacks</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">cb</span><span class="p">);</span></pre>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>The session to set the callback structure.</p></td>
</tr>
<tr class="row-even"><td><p>cb</p></td>
<td><p>The callback structure itself.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>SSH_OK on success, SSH_ERROR on error.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gacea52d1373970a4922bf60e6b1680919"><span id="index-28"></span><a class="reference internal" href="global.html#doxid-libssh-8h-1a2ba7f29ac0f2b5ef7134243d24888ac5"><span class="std std-ref">LIBSSH_API</span></a><span></span> <span class="kt">int</span>
<span class="n">ssh_set_channel_callbacks</span><span class="p">(</span>
    <span class="n">ssh_channel</span> <span class="n">channel</span><span class="p">,</span>
    <span class="n">ssh_channel_callbacks</span> <span class="n">cb</span>
<span class="p">)</span></pre>
<p>Set the channel callback functions.</p>
<p>This functions sets the callback structure to use your own callback functions for channel data and exceptions</p>
<pre class="highlight literal-block"><span></span><span class="k">struct</span> <span class="n">ssh_channel_callbacks_struct</span> <span class="n">cb</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">.</span><span class="n">userdata</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span>
  <span class="p">.</span><span class="n">channel_data</span> <span class="o">=</span> <span class="n">my_channel_data_function</span>
<span class="p">};</span>
<span class="n">ssh_callbacks_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cb</span><span class="p">);</span>
<span class="n">ssh_set_channel_callbacks</span><span class="p">(</span><span class="n">channel</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">cb</span><span class="p">);</span></pre>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>channel</p></td>
<td><p>The channel to set the callback structure.</p></td>
</tr>
<tr class="row-even"><td><p>cb</p></td>
<td><p>The callback structure itself.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>SSH_OK on success, SSH_ERROR on error.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gaa321f33172cfa54eb50baaa963457a17"><span id="index-29"></span><a class="reference internal" href="global.html#doxid-libssh-8h-1a2ba7f29ac0f2b5ef7134243d24888ac5"><span class="std std-ref">LIBSSH_API</span></a><span></span> <span class="kt">int</span>
<span class="n">ssh_set_server_callbacks</span><span class="p">(</span>
    <span class="n">ssh_session</span> <span class="n">session</span><span class="p">,</span>
    <span class="n">ssh_server_callbacks</span> <span class="n">cb</span>
<span class="p">)</span></pre>
<p>Set the session server callback functions.</p>
<p>This functions sets the callback structure to use your own callback functions for user authentication, new channels and requests.</p>
<pre class="highlight literal-block"><span></span><span class="k">struct</span> <span class="n">ssh_server_callbacks_struct</span> <span class="n">cb</span> <span class="o">=</span> <span class="p">{</span>
  <span class="p">.</span><span class="n">userdata</span> <span class="o">=</span> <span class="n">data</span><span class="p">,</span>
  <span class="p">.</span><span class="n">auth_password_function</span> <span class="o">=</span> <span class="n">my_auth_function</span>
<span class="p">};</span>
<span class="n">ssh_callbacks_init</span><span class="p">(</span><span class="o">&amp;</span><span class="n">cb</span><span class="p">);</span>
<span class="n">ssh_set_server_callbacks</span><span class="p">(</span><span class="n">session</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">cb</span><span class="p">);</span></pre>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>session</p></td>
<td><p>The session to set the callback structure.</p></td>
</tr>
<tr class="row-even"><td><p>cb</p></td>
<td><p>The callback structure itself.</p></td>
</tr>
</tbody>
</table>
<p class="rubric">Returns:</p>
<p>SSH_OK on success, SSH_ERROR on error.</p>
</section>
<section id="macros">
<h3>Macros</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga8fd26956f4e2b9bc57cfef26c50e321b"><span id="index-30"></span><span></span><span class="cp">#define SSH_PACKET_CALLBACK(name)</span></pre>
<p>This macro declares a packet callback handler.</p>
<pre class="highlight literal-block"><span></span><span class="n">SSH_PACKET_CALLBACK</span><span class="p">(</span><span class="n">mycallback</span><span class="p">){</span>
<span class="p">...</span>
<span class="p">}</span></pre>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1ga4766917128a12b646a8aee7ebc019f8c"><span id="index-31"></span><span></span><span class="cp">#define SSH_PACKET_NOT_USED</span></pre>
<p>Packet was not used and should be passed to any other callback available.</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gac29df803aa1295d6a498c1b081f3b494"><span id="index-32"></span><span></span><span class="cp">#define SSH_PACKET_USED</span></pre>
<p>return values for a ssh_packet_callback</p>
<p>Packet was used and should not be parsed by another callback</p>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-libssh-callbacks-1gafe09b81e5346f0babe288dc38113d289"><span id="index-33"></span><span></span><span class="cp">#define ssh_callbacks_init(p)</span></pre>
<p>Initializes an <a class="reference internal" href="struct_ssh_callbacks_struct.html#doxid-structssh-callbacks-struct"><span class="std std-ref">ssh_callbacks_struct</span></a> A call to this macro is mandatory when you have set a new ssh_callback_struct structure.</p>
<p>Its goal is to maintain the binary compatibility with future versions of libssh as the structure evolves with time.</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">The libssh callbacks</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li><a class="reference internal" href="#typedefs">Typedefs</a></li>
<li><a class="reference internal" href="#global-functions">Global Functions</a></li>
<li><a class="reference internal" href="#macros">Macros</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="group_libssh_threads.html"
                          title="previous chapter">The SSH threading functions.</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="struct_ssh_callbacks_struct.html"
                          title="next chapter">struct ssh_callbacks_struct</a></p>
  </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="struct_ssh_callbacks_struct.html" title="struct ssh_callbacks_struct"
             >next</a> |</li>
        <li class="right" >
          <a href="group_libssh_threads.html" title="The SSH threading functions."
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">LibSSH Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="group_libssh.html" >The libssh API</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">The libssh callbacks</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2003-2017, LibSSH Maintainers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>
.. index:: pair: class; ssh::Channel
.. _doxid-classssh_1_1_channel:

class ssh::Channel
==================

.. toctree::
	:hidden:

Overview
~~~~~~~~

the :ref:`ssh::Channel <doxid-classssh_1_1_channel>` class describes the state of an SSH channel. :ref:`More...<details-classssh_1_1_channel>`


.. ref-code-block:: cpp
	:class: doxyrest-overview-code-block

	#include <include/libssh/libsshpp.hpp>
	
	class Channel {
	public:
		// construction
	
		:target:`Channel<doxid-classssh_1_1_channel_1a342d8629aee4d4239ae791e1f7d38dd4>`(:ref:`Session<doxid-classssh_1_1_session>`& session);
		:target:`~Channel<doxid-classssh_1_1_channel_1a10dc8f6c498117bfb4be5f3cdafd0a02>`();

		// methods
	
		Channel*
		:ref:`acceptX11<doxid-classssh_1_1_channel_1a62000c16999e74525d296f0a1cb19c95>`(int timeout_ms);
	
		void
		:ref:`changePtySize<doxid-classssh_1_1_channel_1a196b0eab10bf168330f569ff3881562c>`(
			int cols,
			int rows
		);
	
		void
		:ref:`close<doxid-classssh_1_1_channel_1ad14405b4e8c3a8e3d37a49ed793aadde>`();
	
		int
		:target:`getExitStatus<doxid-classssh_1_1_channel_1aa9bd03b50afa6f6c0126fe490e17112e>`();
	
		:ref:`Session<doxid-classssh_1_1_session>`&
		:target:`getSession<doxid-classssh_1_1_channel_1a1c60382b561193baebb1d68be1219500>`();
	
		bool
		:ref:`isClosed<doxid-classssh_1_1_channel_1a38880d18d0fc357be0f4f8b8ef1c92ef>`();
	
		bool
		:ref:`isEof<doxid-classssh_1_1_channel_1a3bb4131d82cc033d75f65a5137053532>`();
	
		bool
		:ref:`isOpen<doxid-classssh_1_1_channel_1aa2794c09f819f3132b241aa6b72b0664>`();
	
		int
		:target:`openForward<doxid-classssh_1_1_channel_1ac5408b11bfb79ec58456660b8c8d98d8>`(
			const char* remotehost,
			int remoteport,
			const char* sourcehost = NULL,
			int localport = 0
		);
	
		void
		:target:`openSession<doxid-classssh_1_1_channel_1ad6f328c91da72bc35f21cec8f0ec367f>`();
	
		int
		:target:`poll<doxid-classssh_1_1_channel_1a661394ceb03e65bb7c02e040d23d6fc8>`(bool is_stderr = false);
	
		int
		:target:`read<doxid-classssh_1_1_channel_1ab232d8f34a14af8f3a891bc964a103e7>`(
			void* dest,
			size_t count,
			bool is_stderr
		);
	
		int
		:target:`read<doxid-classssh_1_1_channel_1a5a03a0f25f2e7044bcc97df338f57c62>`(
			void* dest,
			size_t count,
			int timeout
		);
	
		int
		:target:`read<doxid-classssh_1_1_channel_1a046e390e41453a66cd442a687efd6695>`(
			void* dest,
			size_t count,
			bool is_stderr = false,
			int timeout = -1
		);
	
		int
		:target:`readNonblocking<doxid-classssh_1_1_channel_1aef42ee6d77142e1a8369e06173ea550d>`(
			void* dest,
			size_t count,
			bool is_stderr = false
		);
	
		void
		:target:`requestEnv<doxid-classssh_1_1_channel_1a26a288266c862363964d3c41ac5b77f5>`(
			const char* name,
			const char* value
		);
	
		void
		:target:`requestExec<doxid-classssh_1_1_channel_1a51a20e82f430513a52cfba3f329c3abe>`(const char* cmd);
	
		void
		:target:`requestPty<doxid-classssh_1_1_channel_1ab8dc3ab11eba4ad6c429337823d89bb8>`(
			const char* term = NULL,
			int cols = 0,
			int rows = 0
		);
	
		void
		:target:`requestSendSignal<doxid-classssh_1_1_channel_1a3f21cf3cc8111380134db317b356f7dc>`(const char* signum);
	
		void
		:target:`requestShell<doxid-classssh_1_1_channel_1ac551d84c253489d67fc7df3d415b1238>`();
	
		void
		:target:`requestSubsystem<doxid-classssh_1_1_channel_1a4b11b239b8e9f0302c5ab2147ad65757>`(const char* subsystem);
	
		int
		:target:`requestX11<doxid-classssh_1_1_channel_1a7421cfbdc01d05f999a55e05af9a593c>`(
			bool single_connection,
			const char* protocol,
			const char* cookie,
			int screen_number
		);
	
		void
		:target:`sendEof<doxid-classssh_1_1_channel_1a4767519dc2766ca61a8a8567a0588d80>`();
	
		int
		:ref:`write<doxid-classssh_1_1_channel_1a06cf7ffd971eff87783a169444fa09a2>`(
			const void* data,
			size_t len,
			bool is_stderr = false
		);
	};
.. _details-classssh_1_1_channel:

Detailed Documentation
~~~~~~~~~~~~~~~~~~~~~~

the :ref:`ssh::Channel <doxid-classssh_1_1_channel>` class describes the state of an SSH channel.



.. rubric:: See also:

ssh_channel

Methods
-------

.. index:: pair: function; acceptX11
.. _doxid-classssh_1_1_channel_1a62000c16999e74525d296f0a1cb19c95:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	Channel*
	acceptX11(int timeout_ms)

accept an incoming X11 connection

.. warning::

	you have to delete this pointer after use



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- timeout_ms

		- timeout for waiting, in ms



.. rubric:: Returns:

new :ref:`Channel <doxid-classssh_1_1_channel>` pointer on the X11 connection

NULL in case of error



.. rubric:: See also:

:ref:`ssh_channel_accept_x11 <doxid-group__libssh__channel_1ga548bd0f77a50b7c8180942544b375866>`

:ref:`Channel::requestX11 <doxid-classssh_1_1_channel_1a7421cfbdc01d05f999a55e05af9a593c>`

.. index:: pair: function; changePtySize
.. _doxid-classssh_1_1_channel_1a196b0eab10bf168330f569ff3881562c:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	changePtySize(
		int cols,
		int rows
	)

change the size of a pseudoterminal



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- cols

		- number of columns

	*
		- rows

		- number of rows

	*
		- :ref:`SshException <doxid-classssh_1_1_ssh_exception>`

		- on error



.. rubric:: See also:

:ref:`ssh_channel_change_pty_size <doxid-group__libssh__channel_1gaf5d55c90f3d98c583df23d21905c1127>`

.. index:: pair: function; close
.. _doxid-classssh_1_1_channel_1ad14405b4e8c3a8e3d37a49ed793aadde:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	void
	close()

closes a channel



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- :ref:`SshException <doxid-classssh_1_1_ssh_exception>`

		- on error



.. rubric:: See also:

:ref:`ssh_channel_close <doxid-group__libssh__channel_1ga238f07e0455456a5bfd8a49ead917732>`

.. index:: pair: function; isClosed
.. _doxid-classssh_1_1_channel_1a38880d18d0fc357be0f4f8b8ef1c92ef:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isClosed()

returns true if channel is in closed state



.. rubric:: See also:

:ref:`ssh_channel_is_closed <doxid-group__libssh__channel_1gab2720b44cb7f1dfe2b38ffe07c2f45c7>`

.. index:: pair: function; isEof
.. _doxid-classssh_1_1_channel_1a3bb4131d82cc033d75f65a5137053532:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isEof()

returns true if channel is in EOF state



.. rubric:: See also:

:ref:`ssh_channel_is_eof <doxid-group__libssh__channel_1gab535264029443d77214c0615a0788b0a>`

.. index:: pair: function; isOpen
.. _doxid-classssh_1_1_channel_1aa2794c09f819f3132b241aa6b72b0664:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	bool
	isOpen()

returns true if channel is in open state



.. rubric:: See also:

:ref:`ssh_channel_is_open <doxid-group__libssh__channel_1gaaafcda943c96ddb91e5c28c0bdee7045>`

.. index:: pair: function; write
.. _doxid-classssh_1_1_channel_1a06cf7ffd971eff87783a169444fa09a2:

.. ref-code-block:: cpp
	:class: doxyrest-title-code-block

	int
	write(
		const void* data,
		size_t len,
		bool is_stderr = false
	)

Writes on a channel.



.. rubric:: Parameters:

.. list-table::
	:widths: 20 80

	*
		- data

		- data to write.

	*
		- len

		- number of bytes to write.

	*
		- is_stderr

		- write should be done on the stderr channel (server only)

	*
		- :ref:`SshException <doxid-classssh_1_1_ssh_exception>`

		- in case of error



.. rubric:: Returns:

number of bytes written



.. rubric:: See also:

:ref:`channel_write <doxid-legacy_8c_1ac202e79c44c789daccc66d1ad647ee26>`

:ref:`channel_write_stderr <doxid-group__libssh__server_1ga4df894b92717afb7f8791182f21a9a6c>`


<!DOCTYPE html>

<html lang="en" data-content_root="./">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>Condition Variable Routines &#8212; Apache Portable Runtime Documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=fa44fd50" />
    <link rel="stylesheet" type="text/css" href="_static/sphinxdoc.css?v=34905f61" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-pygments.css?v=ff3f4257" />
    <link rel="stylesheet" type="text/css" href="_static/doxyrest-sphinxdoc.css?v=3785b6ce" />
    <script src="_static/documentation_options.js?v=73275c37"></script>
    <script src="_static/doctools.js?v=9bcbadda"></script>
    <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/target-highlight.js?v=df7d332b"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Dynamic Object Handling" href="group_apr_dso.html" />
    <link rel="prev" title="struct apr_getopt_t" href="struct_apr_getopt_t.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="group_apr_dso.html" title="Dynamic Object Handling"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="struct_apr_getopt_t.html" title="struct apr_getopt_t"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Apache Portable Runtime Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="group_APR.html" accesskey="U">Apache Portability Runtime library</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Condition Variable Routines</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section id="condition-variable-routines">
<span id="doxid-group-apr-thread-cond"></span><span id="index-0"></span><h1>Condition Variable Routines</h1>
<div class="toctree-wrapper compound">
</div>
<section id="overview">
<h2>Overview</h2>
<pre class="highlight doxyrest-overview-code-block literal-block"><span></span><span class="c1">// typedefs</span>

<span class="k">typedef</span> <span class="k">struct</span> <a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span> <a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="p">;</span>

<span class="c1">// global functions</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-thread-cond-1gab39e8b722d46d23466e9e346ada85a7f"><span class="std std-ref">apr_thread_cond_create</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">**</span> <span class="n">cond</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span> <span class="n">pool</span>
<span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-thread-cond-1ga789719a5f02bdab8b8abbc8bddd0406b"><span class="std std-ref">apr_thread_cond_wait</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">*</span> <span class="n">cond</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_thread_mutex.html#doxid-group-apr-thread-mutex-1ga95712060ba3a192036416e1ccef1db75"><span class="std std-ref">apr_thread_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span>
<span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-thread-cond-1ga67f2feecb7fa1929cc9b354dafd00306"><span class="std std-ref">apr_thread_cond_timedwait</span></a><span></span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">*</span> <span class="n">cond</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_thread_mutex.html#doxid-group-apr-thread-mutex-1ga95712060ba3a192036416e1ccef1db75"><span class="std std-ref">apr_thread_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_time.html#doxid-group-apr-time-1gaae2129185a395cc393f76fabf4f43e47"><span class="std std-ref">apr_interval_time_t</span></a><span></span> <span class="n">timeout</span>
<span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-thread-cond-1gadf7ad6c2731bc6128f969d3efc7ff5eb"><span class="std std-ref">apr_thread_cond_signal</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">*</span> <span class="n">cond</span><span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-thread-cond-1gafbbedd2a07629fe3186343035ae83152"><span class="std std-ref">apr_thread_cond_broadcast</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">*</span> <span class="n">cond</span><span class="p">);</span>

<a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<a class="reference internal" href="#doxid-group-apr-thread-cond-1ga049e646e23c670f3a79fe25401b9c1b0"><span class="std std-ref">apr_thread_cond_destroy</span></a><span></span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">*</span> <span class="n">cond</span><span class="p">);</span>

<a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span>
<a class="reference internal" href="#doxid-group-apr-thread-cond-1gafc2d7f2907eb12e5543c971a4c0140ee"><span class="std std-ref">apr_thread_cond_pool_get</span></a><span></span><span class="p">(</span><span class="k">const</span> <a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">*</span> <span class="n">thethread_cond</span><span class="p">);</span></pre>
</section>
<section id="detailed-documentation">
<span id="details-group-apr-thread-cond"></span><h2>Detailed Documentation</h2>
<section id="typedefs">
<h3>Typedefs</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span id="index-1"></span><span></span><span class="k">typedef</span> <span class="k">struct</span> <a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span> <span class="n">apr_thread_cond_t</span></pre>
<p>Opaque structure for thread condition variables</p>
</section>
<section id="global-functions">
<h3>Global Functions</h3>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-thread-cond-1gab39e8b722d46d23466e9e346ada85a7f"><span id="index-2"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_thread_cond_create</span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">**</span> <span class="n">cond</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span> <span class="n">pool</span>
<span class="p">)</span></pre>
<p>Note: destroying a condition variable (or likewise, destroying or clearing the pool from which a condition variable was allocated) if any threads are blocked waiting on it gives undefined results. Create and initialize a condition variable that can be used to signal and schedule threads in a single process.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>cond</p></td>
<td><p>the memory address where the newly created condition variable will be stored.</p></td>
</tr>
<tr class="row-even"><td><p>pool</p></td>
<td><p>the pool from which to allocate the condition.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-thread-cond-1ga789719a5f02bdab8b8abbc8bddd0406b"><span id="index-3"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_thread_cond_wait</span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">*</span> <span class="n">cond</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_thread_mutex.html#doxid-group-apr-thread-mutex-1ga95712060ba3a192036416e1ccef1db75"><span class="std std-ref">apr_thread_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span>
<span class="p">)</span></pre>
<p>Put the active calling thread to sleep until signaled to wake up. Each condition variable must be associated with a mutex, and that mutex must be locked before calling this function, or the behavior will be undefined. As the calling thread is put to sleep, the given mutex will be simultaneously released; and as this thread wakes up the lock is again simultaneously acquired. Spurious wakeups may occur. Before and after every call to wait on a condition variable, the caller should test whether the condition is already met.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>cond</p></td>
<td><p>the condition variable on which to block.</p></td>
</tr>
<tr class="row-even"><td><p>mutex</p></td>
<td><p>the mutex that must be locked upon entering this function, is released while the thread is asleep, and is again acquired before returning from this function.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-thread-cond-1ga67f2feecb7fa1929cc9b354dafd00306"><span id="index-4"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_thread_cond_timedwait</span><span class="p">(</span>
    <a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">*</span> <span class="n">cond</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_thread_mutex.html#doxid-group-apr-thread-mutex-1ga95712060ba3a192036416e1ccef1db75"><span class="std std-ref">apr_thread_mutex_t</span></a><span></span><span class="o">*</span> <span class="n">mutex</span><span class="p">,</span>
    <a class="reference internal" href="group_apr_time.html#doxid-group-apr-time-1gaae2129185a395cc393f76fabf4f43e47"><span class="std std-ref">apr_interval_time_t</span></a><span></span> <span class="n">timeout</span>
<span class="p">)</span></pre>
<p>Put the active calling thread to sleep until signaled to wake up or the timeout is reached. Each condition variable must be associated with a mutex, and that mutex must be locked before calling this function, or the behavior will be undefined. As the calling thread is put to sleep, the given mutex will be simultaneously released; and as this thread wakes up the lock is again simultaneously acquired.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>cond</p></td>
<td><p>the condition variable on which to block.</p></td>
</tr>
<tr class="row-even"><td><p>mutex</p></td>
<td><p>the mutex that must be locked upon entering this function, is released while the thread is asleep, and is again acquired before returning from this function.</p></td>
</tr>
<tr class="row-odd"><td><p>timeout</p></td>
<td><p>The amount of time in microseconds to wait. This is a maximum, not a minimum. If the condition is signaled, we will wake up before this time, otherwise the error APR_TIMEUP is returned.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-thread-cond-1gadf7ad6c2731bc6128f969d3efc7ff5eb"><span id="index-5"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_thread_cond_signal</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">*</span> <span class="n">cond</span><span class="p">)</span></pre>
<p>Signals a single thread, if one exists, that is blocking on the given condition variable. That thread is then scheduled to wake up and acquire the associated mutex. Although it is not required, if predictable scheduling is desired, that mutex must be locked while calling this function. If no threads are waiting on the condition variable, nothing happens.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>cond</p></td>
<td><p>the condition variable on which to produce the signal.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-thread-cond-1gafbbedd2a07629fe3186343035ae83152"><span id="index-6"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_thread_cond_broadcast</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">*</span> <span class="n">cond</span><span class="p">)</span></pre>
<p>Signals all threads blocking on the given condition variable. Each thread that was signaled is then scheduled to wake up and acquire the associated mutex. This will happen in a serialized manner. If no threads are waiting on the condition variable, nothing happens.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>cond</p></td>
<td><p>the condition variable on which to produce the broadcast.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-thread-cond-1ga049e646e23c670f3a79fe25401b9c1b0"><span id="index-7"></span><a class="reference internal" href="group_apr_errno.html#doxid-group-apr-errno-1gaf76ee4543247e9fb3f3546203e590a6c"><span class="std std-ref">apr_status_t</span></a><span></span>
<span class="n">apr_thread_cond_destroy</span><span class="p">(</span><a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">*</span> <span class="n">cond</span><span class="p">)</span></pre>
<p>Destroy the condition variable and free the associated memory.</p>
<p class="rubric">Parameters:</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 20.0%" />
<col style="width: 80.0%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p>cond</p></td>
<td><p>the condition variable to destroy.</p></td>
</tr>
</tbody>
</table>
<pre class="highlight doxyrest-title-code-block literal-block" id="doxid-group-apr-thread-cond-1gafc2d7f2907eb12e5543c971a4c0140ee"><span id="index-8"></span><a class="reference internal" href="group_apr_pools.html#doxid-group-apr-pools-1gaf137f28edcf9a086cd6bc36c20d7cdfb"><span class="std std-ref">apr_pool_t</span></a><span></span><span class="o">*</span>
<span class="n">apr_thread_cond_pool_get</span><span class="p">(</span><span class="k">const</span> <a class="reference internal" href="#doxid-group-apr-thread-cond-1gae8f918d38bf1c58bc09670eee456ae5e"><span class="std std-ref">apr_thread_cond_t</span></a><span></span><span class="o">*</span> <span class="n">thethread_cond</span><span class="p">)</span></pre>
<p>Get the pool used by this thread_cond.</p>
<p class="rubric">Returns:</p>
<p>apr_pool_t the pool</p>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="Main">
        <div class="sphinxsidebarwrapper">
  <div>
    <h3><a href="index.html">Table of Contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">Condition Variable Routines</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#detailed-documentation">Detailed Documentation</a><ul>
<li><a class="reference internal" href="#typedefs">Typedefs</a></li>
<li><a class="reference internal" href="#global-functions">Global Functions</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  </div>
  <div>
    <h4>Previous topic</h4>
    <p class="topless"><a href="struct_apr_getopt_t.html"
                          title="previous chapter">struct apr_getopt_t</a></p>
  </div>
  <div>
    <h4>Next topic</h4>
    <p class="topless"><a href="group_apr_dso.html"
                          title="next chapter">Dynamic Object Handling</a></p>
  </div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="Related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="group_apr_dso.html" title="Dynamic Object Handling"
             >next</a> |</li>
        <li class="right" >
          <a href="struct_apr_getopt_t.html" title="struct apr_getopt_t"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">Apache Portable Runtime Documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="group_APR.html" >Apache Portability Runtime library</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">Condition Variable Routines</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
    &#169; Copyright 2008-2017, Apache Portable Runtime Maintainers.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 8.2.3.
    </div>
  </body>
</html>